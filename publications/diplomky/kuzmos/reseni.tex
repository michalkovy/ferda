\chapter{Øešení}
V této kapitole budou popsané obecné charakteristiky programátorské
implementace v rámci dané diplomové práce.
\label{implementation}
\section{Vztah diplomové práce ''Experimentální GUHA procedury'' k této práci}
Zde se podrobnì uvede vztah diplomové práce T.Kuchaøe ''Experimentální GUHA procedury''
uvedené v seznamu pouité literatury jako \cite{kuchar}.
\subsection{GUHA v prostøedí Ferda DataMiner}
Jak se u podrobnìji uvedlo v kapitole \ref{ferdaproject}, Ferda DataMiner
vznikl jako studentskı projekt s cílem implementace obecnìjší platformy
pro datamining se základním prvkem pojmenovanım krabièka, viz \cite{ferda}
pro podrobnìjší informace.
\paragraph{}
V dobì jeho vzniku ji byly získány rozsáhlé uivatelské
zkušenosti se systémem LISp-Miner a Ferda DataMiner byl navren s ohledem
na tyto zkušenosti. Projektovı tım se zamìøil na vìtší obecnost prostøedí,
kde by bylo moné implementovat i jiné dataminingové metody ne GUHA. Zároveò
v rámci tého projektu byla implementována metoda GUHA s pouitím ji
existujících modulù prostøedí LISp-Miner. To pøineslo øadu potíí podrobnì
popsanıch T.Kuchaøem v \cite{kuchar} a proto bylo evidentní, e GUHA
se musí v prostøedí Ferda DataMiner implementovat bez vyuití modulù
z LISp-Mineru. Pouze tak mohly bıt vyuity všechny vıhody prostøedí Ferda DataMiner.
\paragraph{}
Implementaci šesti GUHA procedur a modulù pro zadání úlohy implementoval
T.Kuchaø ve své diplomové práci ''Experimentální GUHA procedury'',
jak u zde bylo nìkolikrát zmínìno.
\paragraph{}
Daná diplomová práce je rozšíøením existujících (tzn. v prostøedí
Ferda DataMiner implementovanıch) dataminingovıch procedur. Sdílí
jak zpùsob zadávání úlohy, tak i nìkteré èásti procedur. 
\paragraph{}
Z uivatelského hlediska se
do relaèní procedury zapojí úloha stejnì jako do nerelaèní a vıstup se zapojuje stejnì
jako z existujících booleovskıch atributù.
\paragraph{}
 Z programátorského hlediska se vyuívá
prostøedkù jako získávaní bitovıch øetízkù ze zapojenıch atributù,
inicializace samotné relaèní procedury
a dalších pøedpøipravenıch prostøedkù, jako jsou interfacy, abstraktní tøídy apod.
Mnoho z tìchto prostøedkù byly v prùbìhu implementace uzpùsobeny pro
relaèní datamining, jak bude podrobnìji popsáno v kapitole \ref{implementationdetails}.
Na druhou stranu pøi implementaci autor vytvoøil další prostøedky usnadòující
implementaci relaèních rozšíøení pro zbıvající dataminingové procedury.
\paragraph{}
Vzhledem k odlišné povaze generování relevantních otázek nebylo
moné vyuít jedné z hlavních vıhod existující implementace
GUHA procedur v prostøedí Ferda DataMiner a to cache bitovıch
øetízkù. Dále existující implementace musela bıt rozšíøena
o monost práce s bitovımi øetízky na odlišném principu
ne bylo dosud implementováno.
\paragraph{}
Monost snadné integrace a vyuití existujících prostøedkù byla od zaèátku jedním
z hlavních cílù projektu Ferda DataMiner, protoe takovı pøístup umoòuje rychlejší
a prùhlednìjší vıvoj a také lepší kvalitu kódu a menší poèet chyb. Z tohoto a dalších dùvodù
uvedenıch vıše se odvíjely zásady implementace.

\section{Zásady implementace}
Zde bude popsán obecnı programátorskı pøístup k øešení implementace.
\subsection{Licence}
Protoe prostøedí Ferda DataMiner je vyvíjeno pod licenci
GNU Public License (GPL), implementace v rámci dané diplomové práce
je rovnì vyvíjeno pod licenci GPL. Daná licence umoòuje
nejen volné pouití programu, ale také zaruèuje volnı pøístup
ke zdrojovému kódu programu a jeho rozšiøování pod podmínkou,
e vıslednı kód bude rovnì pod GPL licenci. Plnı text GNU
Public License lze nalézt na \verb+http://www.gnu.org/licenses/gpl.txt+.
\subsection{Platforma}
Implementace v rámci dané diplomové práce byla napsána
v jazyce C\# stejnì jako stávající implementace prostøedí
Ferda DataMiner. Jedním z cílù (u od doby studentského projektu)
je spustitelnost prostøedí Ferda DataMiner na více platformách.
Pod OS Windows lze vyuít platformu Microsoft .NET Framework
(\verb+http://www.microsoft.com/cze/net/+),
na jinıch operaèních systémech (napøíklad Linux nebo
MacOS) pak prostøedí Mono (\verb+http://www.mono-project.com+).
\paragraph{}
Prostøedí Ferda DataMiner bylo navreno modulárnì. Jeho jednotlivé
èásti mezi sebou komunikují pøes middleware Internet Communications
Engine ICE (\verb+http://www.zeroc.com+), co je moderní alternativa
podobnému frameworku CORBA a podporuje nìkolik rozšíøenıch programovacích
jazykù, mezi které patøí také C\#.
\subsection{Vıkonnostní testy}
Souèástí dané diplomové práce je øada testù
relaèních rozšíøení dataminingovıch procedur. Testy
se zamìøí na hranice únosnosti zadání úlohy
ve smyslu doby bìhu, na vliv velikosti zpracovávané
datové matice na bìh relaèních rozšíøení a také
na dùleitost vyuití cache pro generované bitové
øetízky virtuálním atributem. V úplnì pùvodním
návrhu implementace se s cache vùbec nepoèítalo
z dùvodù uvedenıch dále, proto testy zahrnují
i bìh úlohy s vypnutou cache pro ilustraci zdùvodnìní
její zavedení navzdory pùvodnímu návrhu.
\subsection{Dokumentace}
\subsubsection{Uivatelská dokumentace}
Uivatelská dokumentace je zahrnutá v daném textu
jako popis implentovanıch krabièek.
\subsubsection{Programátorská dokumentace}
Obecnı návrh øešení je souèástí textu dané diplomové práce.
Poznámky pøímo k detailem implementaci jsou souèástí zdrojového kódu.
Tato dokumentace mùe bıt kdykoliv vygenerována ve zvláštním souboru.
\section{Agregaèní atribut}
\subsection{Popis úlohy}
Zde bude popsána podstata úlohy, kterou bylo nutné
vyøešit pro implementaci virtuálního agregaèního atributu v prostøedí
Ferda DataMiner.
\paragraph{}
Jak u bylo podrobnì popsáno v sekci \ref{vattributes}, agregaèní
virtuální atribut pracuje nad vedlejší datovou matici, kde provádí
jednoduché vıpoèty, které jsou nejèastìji implementovány jako agregaèní
funkce jazyka SQL (proto název agregaèní) pro øádky dané datové matice patøící k objektu
v hlavní datové matici.
\paragraph{}
Pøi rozhodování o rozsahu implementované funkènosti agregaèního virtuálního
atributu se bral v potaz fakt, e daleko zajímavìjším atributem pro vyuití
v relaèním dataminingu je atribut hypotézovı. Proto po dohodì s vedoucím práce bylo
rozhodnuto naimplementovat pouze základní funkènost agregaèního virtuálního atributu.
\paragraph{}
Autor dané diplomové práce si uvìdomuje fakt, e tento atribut mùe bıt obecnìjší
ne pouze spojení dvou databázovıch tabulek dle klíèe a spoustìní pouze SQL agregaèních funkcí.
V diplomové práci M.Ducháèka uvedené v seznamu pouité literatury jako \cite{duchacek} je
implementován obecnìjší pøístup k agregaènímu virtuálnímu atributu. Ve zmínìné práci
je umonìno na tomto atributu spouštìt nejen agregaèní funkce jazyka SQL, ale obecnì
lze provádìt jakoukoliv úpravu dat pomocí procedur napsanıch v jazyce C\#, kterı je
interpretován za bìhu.
\paragraph{}
Nicménì si autor také uvìdomoval, e vıše uvedená implementace funkènosti tvoøí
velmi podstatnou èást diplomové práce M.Ducháèka. Vzhledem k faktu, e autor dané
diplomové práce mìl pøed sebou implementaci jak hypotézového atributu, tak i tøí
dalších modulù pro dynamickou transformaci atributu a jednoho modulu pro statickou úpravu atributu,
bylo rozhodnuto naimplementovat v rámci agregaèního hypotézového atributu pouze funkènost, která je podrobnìji
popsaná v kapitole \ref{implementationdetails}.



\section{Hypotézovı atribut}
Zde bude popsána podstata úlohy, kterou bylo nutné
vyøešit pro implementaci virtuálního hypotézového atributu v prostøedí
Ferda DataMiner. Protoe vısledná idea implementace byla
nalezena a upøesnìna a bìhem nìkolika schùzí s vedoucím diplomové
práce, autor povauje za nezbytné tuto diskuzi zde krátce uvést,
co dle jeho názoru pomùe k lepšímu pochopení dùvodù
volby návrhu, kterı nakonec pøevládl a byl tedy v rámci dané
diplomové práce implementován. Bude následovat rozbor
dopadu zvoleného zpùsobu pro stávající i budoucí aspekty
implementace relaèních rozšíøení v prostøedí Ferda DataMiner.
\subsection{Popis úlohy}
Jak u bylo podrobnì popsáno v sekci \ref{vattributes}, hypotézovı
virtuální atribut (kterému budeme také øíkat podúloha)
pracuje nad vedlejší datovou matici, ve které
zkoumá zajímavé vztahy pro øádky dané datové matice patøící k objektu
v hlavní datové matici. Podúloha se spustí mnohokrát a pokadé
vygeneruje relevantní otázku pouze pro èást vedlejší datové matice.
Vısledkem pro hlavní úlohu, do které je takovı virtuální atribut zapojen,
bude síla hypotézy vzniklé ze zmínìné relevantní otázky aplikací
kvantifikátoru zapojeného do podúlohy -- viz obrázek.

\paragraph{}
\begin{figure}[!h]
\begin{center}
\includegraphics[width=8cm]{pics/master_detail.eps}
\end{center}
\caption{Master-detail tabulka}
\end{figure}

\paragraph{}
Podúloha se vdy spouští pro ty øádky vedlejší datové matice, které
jsou v relaci s objektem z hlavní datové matice. Jako pøíklad
uvedeme podúlohu, která bìí na tabulce transakcí. Vdy se spustí
pouze pro øádky transakcí patøící urèitému klientovi. Nad tìmi probìhne
verifikace nìjaké (poøadí generování se bude odvíjet od zpùsobu implementace)
relevantní otázky generované podúlohou a jako vısledek podúloha vydá obecnì
reálné èíslo znamenající validitu dané hypotézy na zkoumané podmnoinì
øádkù vedlejší datové matice.
\paragraph{}
To znamená, e pro kadı objekt z hlavní datové matice podúloha zkoumající
vedlejší datovou matici vrátí právì jedno reálné èíslo. Takto vzniklı
sloupec se pro nadúlohu nebude nijak lišit od regulérního sloupce hlavní datové matice
a bude tedy zahrnut do generování relevantních otázek a potamo i hypotéz v nadúloze.
\subsection{Diskuze nad implementaci}
Z vıše popsaného je jasné, e implementace musí vyøešit nìkolik problému.
Jejich øešení bylo podrobnì diskutováno s vedoucím diplomové práce Doc. RNDr. Janem Rauchem, CSc.
pøiblinì v následujících bodech.
\paragraph{}
Pro zaèátek si ještì jednou pøipomeneme základní algoritmus generování
relevantních otázek a ovìøování hypotéz pro dataminingovou proceduru 4ft miner.
%\clearpage
\begin{verbatim}
foreach(BitString condition in Conditions)
{
    foreach(BitString antecedent in Antecedents)
    {
        foreach(BitString succedent in Succedents)
        {
            ContingencyTable table = 
                ComputeTable(succedent, antecedent, condition);
            if (VerifyQuantifiers(table))
                result.Add(succedent, antecedent, condition);
        }
    }
}

\end{verbatim}

\subsubsection{Zpùsob bìhu podúlohy}
\label{subtaskimplementation}
Bìhem diskuze se vykrystalizovaly následující tøi pøístupy, jak mùe podúloha bìet.
\begin{description}
\item[Pøedbìné generování]
Podúloha by se spouštìla pøedem na vedlejší datové matici. Vısledky ve formì
buï virtuálních sloupcù a(nebo) bitovıch øetízkù by se pøechodnì skladovaly
v pamìti èi ve formì serializovanıch objektù a pøi následném bìhu nadúlohy
by se této pøedloily. Podobnım zpùsobem jsou implementovány napøíklad
stávající nevirtuální atributy -- ''Each value one category'', ''Ekvidistanèní intervaly''
a ''Ekvifrekvenèní intervaly''.
\paragraph{}
Vıhodou takového pøístupu by byla monost vyuít stávající vıhody implementace
metody GUHA v prostøedí Ferda DataMiner a to zejména cache bitovıch øetízkù.
Dále by se mohly bez vìtších zmìn pouít dataminingové procedury jako podúlohy,
v podstatì by se jednalo o jejich spuštìní na podmnoinì datové matice místo
na celé mnoinì øádkù. Také takto implementovanı virtuální atribut by šel
zapojít do zadání pro všechny dosud implementované GUHA dataminingové
procedury v prostøedí Ferda DataMiner.
\paragraph{}
Hlavním dùvodem napsání pøedchozího odstavce v podmiòovacím zpùsobu
se stala nemonost škálovatelnosti takového øešení. U i pro existující
vzorová data virtuální banky Barbora mohl nastat problém se zabíranou
pamìti pro vygenerované bitové øetízky. Poèet relevantních otázek v zadané
dataminingové úloze v øádu tisícù èi desetitisícù je bìnou záleitostí.
Protoe kadá relevantní otázka v podúloze znamená novı virtuální sloupec
v hlavní tabulce, nad kterou bìí hlavní dataminingová úloha, pøi úvaze
o velikosti poadované operaèní pamìti (protoe bitové øetízky krabièky
atributù ve Ferda DataMiner uchovávají právì tam) se musí poèet sloupcù
vynásobit poètem øádku hlavní datové matice.
\paragraph{}
Pøi úvaze s matici banky Barbora o velikosti øádovì kolem 5000 øádku
a poètem relevantních otázek v podúloze kolem 10000 nám vzniká ještì vcelku
pøijatelná velikost zabírané RAM, nicménì je tøeba si uvìdomit, e velikost
zkoumané datové tabulky pro úlohy blíící se reálné situaci je spíše v øádech
statisícù a miliónù záznamù. Toto je zásadní omezení pro budoucí aplikace
prostøedí Ferda DataMiner a takto navrenı zpùsob implementace by omezil nejen
relaèní rozšíøení procedur implementovanıch v rámci dané diplomové práce,
ale i pøípad\-nıch dalších implementací relaèních rozšíøení v budoucnu.
\paragraph{}
Z vıše uvedenıch dùvodù bylo tedy od tohoto zpùsobu implementace upuštìno.
\item[Èekající vlákna]Po zavrení pøedchozího pøístupu bylo jasné, e øešení
pøedgenerovat si bitové øetízky do pamìti nepøipadá v úvahu. Zaèal se hledat
zpùsob, jak virtuální sloupce a tedy i bitové øetízky, generovat prùbìnì,
vdy na pokyn nadúlohy.
\paragraph{}
Vznikla následující úvaha: protoe nadúloha potøebovala ke zpracování celı
sloupec hlavní datové matice najednou, podúloha by mohla bìet
jako dataminingová procedura v samostatném vláknì, která by jako vstup mìla
právì jednu podmnoinu øádkù vedlejší datové matice pro jeden objekt z hlavní
datové matice. Tedy pro kadı objekt z hlavní datové matice by bìelo
jedno vlákno podúlohy, které by postupnì vracelo reálná èísla, která by se formovala
do virtuálních sloupcù.
\paragraph{}
Skoro na první pohled je však jasné, e by muselo bıt spuštìn stejnı poèet vláken
jako poèet øádkù v hlavní datové matici. Idea nutnosti øádovì tisíce vláken pro vıpoèet
by jednoduché úlohy (i nad tabulkou virtuální banky Barbory) se autorovi dané
diplomové práce zdála jako velmi špatnì navrena z dùvodù pøíliš velké
reie operaèního systému na pøepínaní takového poètu vláken. Z dosavadních
zkušeností je vidìt, e na bìnì dostupném osobním poèítaèi øádovì i stovka vláken
vìtšinou pøedstavuje velké vytíení komponent systému.
\paragraph{}
Z vıše uvedenıch dùvodù bylo tedy od tohoto zpùsobu implementace upuštìno.
\item[Generování po krocích]
Pøedchozí úvaha však inspirovala autora práce k jinému pøístupu k øešení. Jak je vidìt
z algoritmu generování relevantních otázek, kterı je uveden na poèátku této sekce,
dataminingová úloha (v tomto pøípadì nadúloha) potøebuje v jednotlivıch krocích svıch cyklù pouze
\emph{jeden bitovı øetízek}. Z tohoto vznikla idea navrhnout dataminingovou proceduru pro podúlohu tak, aby umìla
poskytnout na poádání ne nìjakı konkrétní sloupec nebo bitovı øetízek, nıbr \emph{další} sloupec
a \emph{další} bitovı øetízek anebo nic v pøípadì vyèerpání monıch sloupcù.
\paragraph{}
Zásadní rozdíl oproti dosud existujícím (nevirtuálním) atributùm byl ten, e tyto mìly
celou mnoinu svıch bitovıch øetízkù v okamiku pøed zaèátkem generování známou. Bitové
øetízky jsou v tìchto atributech identifikovatelné dle klíèe skladájíciho se z id atributu a názvu
kategorie. Je znám celkovı poèet bitovıch øetízkù, tudí lze stanovit poèet celkovì vygenerovanıch
relevantních otázek. Je moné pøistoupit k jakémukoliv bitovému øetízku na základì klíèe.
\paragraph{}
Oproti tomu navrhovanı zpùsob implementace hypotézového atributu zaruèoval pouze to,
e takovı atribut v okamiku zavolání pøíslušné metody buï vydá další bitovı øetízek
nebo oznámí, e bitové øetízky u vydávat nebude. Není tedy známá a snadno pøístupná
celá mnoina bitovıch øetízku pøed zaèátkem generování (nadúlohou) relevantních otázek.
Tudí nelze spoèítat ani pøedpokládanı poèet vygenerovanıch relevantních otátek,
protoe hypotézovı atribut jednoduše reaguje buï tím, e dá další bitovı øetízek
nebo oznámí, e øetízky došly.
\paragraph{}
Vıhody tohoto øešení ve smyslu škálovatelnosti jsou zøejmé. Podúloha bìí synchronnì
s nadúlohou a v pamìti se uchovává a pøedává pouze jeden bitovı øetízek v jednom okamiku.
Poté, co nadúloha pøejde na další krok generování a poádá virtuální atribut o další bitovı øetízek,
tento zavolá svoji metodu MoveNext a vydá další øetízek. Pøedchozí vygenerované øetízky
se nikde neukládají a nezabírají pamì.
\paragraph{}
Nevıhody tohoto øešení jsou ji naznaèeny
vıše a budou podrobnìji probrány dále. Po diskuzi s vedoucím diplomové práce se autor rozhodl
implementovat relaèní rozšíøení dataminingovıch procedur právì tímto zpùsobem,
protoe pøípadné nevıhody a jinı pøístup k øešení znamenaly spíše nepohodlí pro programátora, avšak
nijak nenarušovaly princip metody GUHA jako takové. Navíc poskytovaly základní vıhodu
škálovatelnosti -- z principu návrhu lze zaruèit, e úloha skonèí i na velkıch tabulkách,
nevyèerpá RAM nebo poèet povolenıch bìících vláken v systému. Mùe se stát, e
pobìí delší dobu, ale skonèí korektnì.
\end{description}
\subsection{Dùsledky zvoleného zpùsobu}
Zde budou popsány dùsledky, které mìlo zvolené øešení implementaci a spolupráci
s ji existujícími moduly metody GUHA v prostøedí Ferda DataMiner.
\subsubsection{Vypnutí cache bitovıch øetízku}
Nejpodstatnìjším dùsledkem byla nemonost pouívat stávající cache bitovıch
øetízkù. Ta totí funguje tak, e uchovává bitové øetízky pro atributy
(pro všechny atributy je spoleèná) a v pøípadì potøeby vyøazuje z cache
málo pouívané bitové øetízky na základì nìjaké strategie. V pøípadì,
e v cache potøebnı bitovı øetízek neexistuje, poádá o nìj pøímo
potøebnı atribut na základì jednoznaèného identifikátoru.
\paragraph{}
Jak u bylo zmínìno vıše, takovı pøístup by se zvolenım zpùsobem implementace
nefungoval -- pøedpokládá toti monost pøístupu ke všem bitovım øetízkùm
atributu. Návrh hypotézového virtuálního atributu s tímto nepoèítá -- umí
dát pouze ''další'' bitovı øetízek bez monosti zjistit, kterı další to bude, jakı
bude mít identifikátor, ke které kategorii bude patøit atd. Z tìchto dùvodù
nešlo stávající cache pro hypotézovı virtuální atribut pouít. Pouití
cache bitovıch øetízkù u ostatních buï existujících nebo novì implementovanıch
krabièek atributù zùstalo beze zmìny, protoe se pro tyto krabièky nic nezmìnilo.
\subsubsection{Rozdìlení na krabièky}
Další úvahou bylo, zda implementovat hypotézovı virtuální atribut
jako dvì krabièky nebo jednu spoleènou. Stávající nevirtuální
atributy se v pøípadì potøeby generování boolskıch atributù zapojují do krabièky
''AtomSetting''. Ta zajistí generování koeficientù pro booleovskı atribut.
\paragraph{}
V pøípadì hypotézového virtuálního atributu by nešla pouít stávající krabièka
pro generování koeficientù ''AtomSetting'', protoe pracuje s poadavkem ''poskytni
pøesnì tento bitovı øetízek'', kdeto hypotézovı atribut by umìl zpracovat pouze
poadavek ''poskytni další bitovı øetízek''. Tudí krabièka pro generování koeficientù
vyuitelná pouze pro hypotézovı virtuální atribut by se se musela také naprogramovat.
\paragraph{}
Po úvaze se autor rozhodl neimplementovat zvláštní krabièku pro generování
koeficientù pro hypotézovı virtuální atribut z následujících dùvodù.
\begin{description}
\item[Potøeba pouze jednoho koeficientu] Po diskuzi s vedoucím práce
bylo rozhodnuto, e pøi generování koeficientù pro booleovskı atribut
bude potøeba implementovat pouze podmnoiny délky jedna -- viz \ref{coefficients}.
Krabièka ''AtomSetting'' pro hypotézovı virtuální atribut by byla nadbyteèná,
protoe by tam chybìlo uivatelské nastavení, vše se odehrávalo ''pod kapotou''.
Nebyl tedy dùvod tuto krabièku vytváøet.
\item[Nadbyteèná komunikace krabièek pøes ICE] Navíc by tato krabièka, která
by se napojila za hypotézovı virtuální atribut, znamenala komunikaci pøes ICE.
Protoe idea implementace spoèívá v synchronním bìhu nad- a podúlohy, kde
nadúloha uvnitø svıch cyklù (napøíklad pro sukcedent) volá podúlohu, která jí
pøedává bistringy, je potøeba zajistit toto pøedávání plynule, aby
se hlavní úloha pøíliš nezpomalovala èekáním na bitovı øetízek od podúlohy.
\paragraph{}
 Protoe
ze zkušeností získanıch pøi programování prostøedí Ferda DataMiner ještì
jako studentského projektu autor vìdìl, e komunikace krabièek pøes
rozhraní ICE je relativnì pomalá (s ohledem na skuteènost, e na komunikaci
pøes ICE by bylo tøeba èekat pøi kadém kroku  \verb+foreach+ cyklu),
bylo rozhodnuto zajistit generování atributu
a koeficientu v jedné krabièce a tím zrychlit bìh hypotézového
virtuálního atributu.
\end{description}
\subsubsection{Buffer bitovıch øetízkù}
Pøi ladìní prvotní implementace hypotézového virtuálního atributu
se zjistilo, e aèkoliv zvolenı návrh zaruèí škálovatelnost
a jistotu toho, e úloha by za delší dobu dobìhne a nezabere
zbyteènou pamì, doba bìhu celkové úlohy je neúmìrnì dlouhá.
\paragraph{}
Dùvod dlouhého bìhu úlohy s virtuálním atributem celkem logicky spoèíval
v neexistenci jakéhokoliv cacheování bitovıch øetízkù poskytovanıch
virtuálním hypotézovım atributem. Pøi prvotním návrhu autor a vedoucí
diplomové práce na tento fakt nebrali pøíliš ohled, protoe spíše diskutovali
o dlouho\-dobìjších dopadech zvoleného zpùsobu implementace. Velkı rozdíl v rychlostech bìhu
úlohy byl ještì umocnìn faktem, e všechny dosavadní GUHA procedury byly implementovány
s pouitím cache bitovıch øetízkù a generování bitovıch øetízkù pøi bìhu úlohy probìhlo
pouze poprvé a poté se naèítaly z cache. Proto hypotézovı atribut, kterı ádnou cache
nepouíval, zpùsoboval opravdu velké zpomalení bìhu úlohy, byl-li do ni zapojen.
\paragraph{}
Podíváme-li se na algoritmus 4ft mineru uvedeného vıše a pøedstavíme-li si ho
jako nadúlohu, do které bude zapojen minimálnì jeden virtuální hypotézovı atribut
(napøíklad jako sukcedent), tak bude jasné, e tento algoritmus pobìí opravdu pomalu.
Zapojení virtuálního atributu do sukcedentu je pro tento miner ''nejhorší pøípad'',
protoe bitstringy jim generované jsou pouívany ve vnitøním \verb+foreach+ cyklu,
a v pøípadì nepouívaní cache to znamená, e uvnitø tohoto cyklu se \emph{pokadé} spustí
podúloha (vnitøní miner), aby mohla nadúloze poskytnout bitstring.
\paragraph{}
Pøi vší snaze autora dané práce jakkoliv urychlit bìh úlohy se zapojenım hypotézovım
atributem vycházelo najevo, e od pùvodnì plánované implementace prosté jakéhokoliv
cacheování bude nutné upustit. Pøi krátkém otestování a optimalizaci dosud naimplementovaného
kódu krabièky autor byl schopen dosáhnout rozumné doby bìhu úlohy (v øádu desítek minut)
pøi omezení maximálního poètu virtuálních sloupcù a potamo i bitovıch øetízkù vygenerovanıch
krabièkou virtuálního atributu na 15-20. Pøi zvıšení maximálního poètu virtuálních sloupcù
na 50 doba bìhu jednoduché úlohy se pohybovala v øádu hodin.
\paragraph{}
Protoe bìné poèty vygenerovanıch relevantních otázek v procedurách GUHA se pohybují v øádech
tisícù a desetitisícù pøi potøebné dobì bìhu spíše v øádu minut, bylo zøejmé, e
zpomalujícím faktorem byla právì absence cacheování bitovıch øetízkù pro virtuální atribut.
Bylo tedy rozhodnuto upustit od kanonického implementaèního øešení a autor naimplementoval
cache i pro virtuální atributy.
\section{Atributy}
Zde bude popsána podstata úlohy, kterou bylo nutné
vyøešit pro implementaci atributù v prostøedí
Ferda DataMiner. Podrobnìjší popis principù fungování danıch
atributù je uveden v dané diplomové práci v sekci \ref{cileatributy}.
\subsection{Ekvidistanèní intervaly}
V rámci implementace funkènosti tohoto atributu byly vyuity algoritmy
pro vytvoøení ekvidistanèních intervalù pøipravené T.Kuchaøem
v rámci jeho diplomové práce uvedené jako \cite{kuchar}. Tyto algoritmy
byly adaptovány z prostøedí projektu Rel-Miner T.Karbana a pøipraveny
pro vyuití v prostøedí Ferda DataMiner. Autor dané diplomové práce
vytvoøil pro danı atribut krabièku v prostøedí Ferda DataMiner,
její funkènost bude detailnì popsána v kapitole \ref{implementationdetails}.

\subsection{Ekvifrekvenèní intervaly}
V rámci implementace funkènosti tohoto atributu byly vyuity algoritmy
pro vytvoøení ekvifrekvenèních intervalù pøipravené T.Kuchaøem
v rámci jeho diplomové práce uvedené jako \cite{kuchar}. Tyto algoritmy
byly adaptovány z prostøedí projektu Rel-Miner T.Karbana a pøipraveny
pro vyuití v prostøedí Ferda DataMiner. Autor dané diplomové práce
vytvoøil pro danı atribut krabièku v prostøedí Ferda DataMiner,
její funkènost bude detailnì popsána v kapitole \ref{implementationdetails}.
\subsection{Statickı atribut}
V rámci implementace funkènosti tohoto atributu byla vytvoøena krabièka,
která umoòovala spouštìní modulu pro ruèní úpravu atributu. Atribut
(pøesnìji kategorie v atributu) mohly bıt pøedem vytvoøeny napøíklad
vıše uvedenımi krabièkami ekvidistanèních nebo ekvifrekvenèních intervalù.
\subsection{Modul pro úpravu atributu}
Tento modul je spouštìn nad krabièkou ''Statickı atribut'' a umoòuje
ruèní úpravu kategorií v atributu. Pøi ní uivatel mùe jak upravovat
ji pøedpøipravené kategorie, tak i vytváøet kategorie nové. Upravovanı
atribut mùe bıt i zcela prázdnı a kategorie mohou bıt vytvoøeny
uivatelem kompletnì od zaèátku.
\paragraph{}
Modul zaruèuje korektnost ruènì pøidanıch kategorií (zaruèí napøíklad
disjunktnost intervalù, jak je poadováno pøi tvorbì úlohy pro dataminingovou
proceduru). Vyuívá algoritmù ji implementovanıch v rámci diplomové práce
T.Kuchaøe uvedené jako \cite{kuchar}. Funkènost tohoto modulu bude detailnì popsána
v kapitole \ref{implementationdetails}.
\chapter{Úvod}
V této kapitole jsou uvedeny základní pojmy dataminingu. Je popsána
metoda GUHA a jiné metody, jejich implementace. Podrobnìji je
popsán relaèní datamining. Také je zde pøedstaveno prostøedí
Ferda DataMiner, pro které probìhla implementace relaèních rozšíøení.
\label{uvod}
\section[Úvod do dobıvání znalostí]{Úvod do dobıvání znalostí z dat}

\subsection{Pøehled}
Data mining (DM) je analytická metodologie získávání
netriviálních skrytıch a potenciálnì uiteènıch informací z dat.
Nìkdy se chápe jako analytická souèást dobıvání znalostí z databází
(Knowledge Discovery in Databases, KDD), jindy se tato dvì oznaèení chápou jako souznaèná.\footnotemark{}

\footnotetext{Definice je pøevzata z http://cs.wikipedia.org/wiki/Data\_mining}
Zde se budeme zabıvat
nalezením vzorù nebo vztahù (z anglického slova \emph{patterns})
v podobì asociaèních pravidel a asociaèních pravidel SDS
(podrobnìji viz \ref{asociacnipravidla}).
\paragraph{}
Dobıvání znalostí stojí na po\-mezí vıpoèetních
statis\-tickıch metod, data\-bázovıch techno\-logii a strojo\-vého uèení.
Meto\-dami dobıvání zna\-lostí se dají øešit úlohy desk\-ripce dat, suma\-rizace,
segmentace, deskripce konceptù, klasifikace, predikce a analızy závislostí
v celé øadì aplikaèních oblastí.

\subsection{Metody dobıvání znalostí}
\paragraph{}
Pøi dobıvání znalostí z dat lze pouít více metod. Dobrıch vısledkù
lze dosáhnout pøi jejich kombinaci. Jako pøíklad mùeme uvést statistické
procedury, rozhodovací stromy, neuronové sítì nebo asociaèní pravidla, se
kterımi pracuje metoda GUHA a kterımi se zde budeme podrobnìji zabıvat.

\subsection[Asociaèní pravidla ''nákupních košíkù'']{Asociaèní pravidla -- analıza nákupních košíkù}
\label{asociacnipravidla}
\paragraph{}
''Klasické'' asociaèní pravidlo je definováno Aggravalem (\cite{aggraval})
v souvislosti s analızou nákupního košíku.
\paragraph{}
Klasické asociaèní pravid\-lo je ve tvaru $X \to Y$, kde $X$ a $Y$ znaèí
dvì mnoiny prvkù. Toto pravid\-lo nám øíká, e tran\-sakce obsahující prvky z $X$,
mají ten\-den\-ci obsahovat prvky z $Y$.
\paragraph{}
Analogie s ná\-kupními košíky øíká, e
kdy ná\-kupní koš obsahuje mnoinu pøed\-mìtù $X$, 
pravdìpodobnì bude obsahovat mnoinu pøed\-mìtù $Y$. Na\-pøíklad klienti, kteøí
na\-koupí víno, èasto na\-kupují také sıry.
Kadı z ná\-kupních košíku $b_{1},\ldots, b_{n}$ tedy ob\-sahuje
nìk\-teré z poloek $P_{1},P_{2},\ldots,P_{K}$.
\begin{table}[!h]
\begin{center}
\begin{tabular}{|c|c|}
\hline
Nákupní košík & Poloky \\
\hline
$b_{1}$ & $P_{1},P_{2},P_{3},P_{4},P_{5}$ \\
\hline
$b_{2}$ & $P_{2},P_{3},P_{4},P_{5},P_{K}$ \\
\hline
$b_{3}$ & $P_{1},P_{3},P_{12}$ \\
\hline
$b_{4}$ & $P_{1},P_{3}$ \\
\hline
\vdots & \vdots \\
\hline
$b_{n-1}$ & $P_{2},P_{4},P_{7},P_{7},P_{107}$ \\
\hline
$b_{n}$ & $P_{2},P_{4},P_{K}$ \\
\hline
\end{tabular}
\end{center}
\caption{Pøíklad mnoiny transakcí}
\end{table}
\paragraph{}
Vıraz $P_{2}, P_{5} \to P_{1}, P_{3}$ je pøíklad asociaèního pravidla, které øíká, e
nákupní košíky obsahující poloky $P_{2}$ a $P_{5}$, èasto obsahují i poloky $P_{1}$ a $P_{3}$.
\paragraph{}
Pouívají se dvì míry intenzity asociaèního pravidla -- \emph{podpora (support)} a \emph{konfidence (confidence)}.
\emph{Podpora} asociaèního pravidla $X \to Y$ je podíl poètu transakcí obsahujících jak $X$, tak $Y$
ku poètu všech transakcí. \emph{Konfidence} je podíl poètu transakcí obsahujících jak $X$, tak $Y$
ku poètu transakcí obsahujících $X$.
\paragraph{}
Analızou transakcí supermarkety mohou
optimalizovat rozmístìní zboí v prodejnì a zajistit rychlejší a vınosnìjší
prodej. Pro dobıvání znalostí za vyuití takovıch pravidel byl navren
algoritmus Apriori, viz \cite{aggraval}.
\subsection{GUHA}
GUHA je zkratka pro General Unary Hypotheses Automaton. Teoretickı základ byl
formulován Hájkem v roce 1966 (podrobnìji viz \cite{guha66}),
detailnìji pak v \cite{guhabasic}.
Pro ilustraci práce metody GUHA uvádíme obrázek \ref{fig:praceguha}.
\paragraph{}
\begin{figure}[!h]
\begin{center}
\includegraphics[width=9cm]{pics/guha.eps}
\end{center}
\caption{Práce metody GUHA}
\label{fig:praceguha}
\end{figure}
\paragraph{}
Metoda GUHA je realizována procedurami GUHA. Procedura je program, kterı na základì
vstupu, kterı je tvoøen analyzovanımi daty a jedno\-duchım zadáním rele\-vant\-ních vztahù,
generuje zadané vztahy (rovnì se pouívá termín re\-levant\-ní otázky) a ovìøuje je
oproti vstupním datùm. Vıstupem jsou pak všechny vztahy (také hypotézy), které jsou prosté.
Hypotéza je prostá, jestlie je pravdivá 
v analyzované datové matici a zároveò nevyplıvá z jinıch, jedno\-duš\-ších hypotéz.
\paragraph{}
Jednou z nejdùleitìjších procedur GUHA je procedura ASSOC (podrobnìji v \cite{guhabasic}),
která hledá asociaèní pravid\-la. Mùe vybírat i jiná ne klasická asociaèní pra\-vidla, 
na\-pøíklad pravid\-la, která od\-poví\-dají statis\-tickım testùm hypotéz.
Tato pravidla jsou daleko obec\-nìjší ne ''klasická'' asociaèní pravidla 
definovaná v sou\-vislosti s analızou ná\-kupních košíkù.
\paragraph{}

\subsection{Relaèní dobıvání znalostí}
\paragraph{}
Existující metody dobıvání znalostí byly pøevánì navreny pro data uloena
v jedné datové matici (tzv. flat-file). Pøi takové organizaci dat øádky datové
matice reprezentují pozorování (ob\-jekty stu\-dia, osoby, záz\-namy, pøed\-mìty apod.)
a sloupce datové matice rep\-re\-zentují promìn\-né (vlast\-nosti, at\-ributy nebo
charak\-teri\-stiky). Aèkoliv takovı pohled na zkoumaná data zjednoduší metody
pouívané pro dobıvání znalostí, v praxi se velmi èasto vyskytují data ve sloitìjší
reprezentaci, napøíklad, ve vícero datovıch maticích, které jsou mezi sebou
v relaci.
\paragraph{}
Je samozøejmì moné poadovaná data spojit do jedné datové matice, avšak takovı úkon
je èasovì velmi nároènı a èasto se musí provést manuálnì pro kadou úlohu, chceme-li
zkoumat napøíklad jiné atributy objektù z matice.
\paragraph{}
Nìkteré úlohy pro dobıvání znalostí navíc nejdou jednoduše provést nad ''plochou''
reprezentaci, obzvláštì v pøípadì, kde uvaujeme mnoho rùznıch objektù s jejich
vlastnostmi a vzájemnımi vztahy. Cílem zavedení relaèního dataminingu je odstranìní
omezení na jednu tabulku dat a umonìní dobıvání znalostí z více relaènì
propojenıch datovıch tabulek. Navíc, jak uvádí T.Kar\-ban v \cite{dateso2005},
ponechání dat v relaèním tvaru mùe zachovat informace, které mohou bıt
vyjádøeny ve formì relaèních vztahù.

\section{Ferda DataMiner a další implementace metody GUHA}
\label{ferdaproject}

\subsection{LISp-Miner}
Od roku 1996 se na praské VŠE vyvíjí systém LISp-Miner.
Jde o akademickı softwarovı systém pro vıuku (zejména na Fakultì informatiky a statistiky
Vysoké školy ekonomické v Praze a Matematicko-fyzikální fakultì Univerzity Karlovy
v Praze) a vızkum v oblasti dobıvání znalostí z databází. Systém obsahuje øadu modulù,
které umoòují potøebnım zpùsobem transformovat prvotní data, provádìt vlastní analızy
a vhodnım zpùsobem prezentovat vısledky.
Systém je stále ve vıvoji, kterı pokrıvá jak implementaci novıch modulù, tak i~prohlubování
a~rozšiøování modulù ji implementovanıch. Vedlejším dùsledkem tohoto vıvoje jsou stále
vìtší nároky na uivatele systému,
pokud chce vyuít všech moností systému LISp-Miner.
Podrobné informace o systému LISp-Miner lze nalézt v \cite{guha}.
\subsection{Rel-Miner}
Systém Rel-Miner je softwarovı projekt vznikající v rámci disertaèní práce (viz. \cite{relminer} )
Mgr. Tomáše Karbana na Matematicko-fyzikální fakultì Univerzity Karlovy.
Cílem je vytvoøení systému pro dobıvání asociaèních pravidel z relaèních dat nad hvìzdicovım schématem (dále jen relaèní), co vyaduje rozšíøení jazyka asociaèních pravidel pro pokrytí více ne jedné datové matice. Základní implementaèní techniky (napø. princip bitovıch øetìzcù), zùstávají stejné jako døíve v systému LISp-Miner
a nyní systému Ferda DataMiner. Stávající implementace dataminingovıch procedur a parametrù zadávání úlohy,
které vznikly v rámci diplomové práce T.Kuchaøe, jsou inspirovány právì systémem Rel-Miner. Rovnì
tato diplomová práce má nìkteré podobné cíle jako Rel-Miner.
\paragraph{}
Rozdíly jsou zejména ve vìtším teoretickém pøínosu projektu Rel-Miner, také v zamìøení
T.Karbana hlavnì na monost distribuovanosti bìhu relaèních i obecnì nerelaèních dataminingovıch
procedur. Podstatnım rozdílem je zpùsob implementace: Rel-Miner byl od poèátku vyvíjen
jako samostatné softwarové dílo, které je zamìøeno na teoretické aspekty relaèního
dobıvání dat a implementace je spíše vzorová a obsahuje relaèní rozšíøení pouze procedury 4ft-Miner,
kdyto implementace relaèních rozšíøení v rámci této diplomové práce je zamìøená na práci
v prostøedí Ferda DataMiner, na vyuití veškerıch jeho uivatelskıch i programátorskıch
vıhod a ji implementovanıch prostøedkù. Mìla za cíl kromì dvou implementovanıch procedur 
relaèního dataminingu poloit základy pro snazší pøidávání relaèních rozšíøení pro zbıvající
 procedury v rámci systému Ferda DataMiner.
\paragraph{}
Rel-Miner mìl bıt prvotní implementací v oblasti relaèního dataminingu a principu bitovıch øetìzcù.
Momentálnì je projekt ve stádiu dokonèení, nicménì ještì není hotov a autorovi této práce není
známo, zda ji existuje ve spustitelné podobì umoòující bìh relaèních dataminingovıch úloh.
Podobnì jako systém LISp-Miner je i systém Rel-Miner vytváøen pøedevším pro vızkumné úèely
a bude tedy vhodnı pro malé a støednì velké projekty, pøedevším pak pro vıuku studentù.
\subsection{Ferda DataMiner}
Ferda DataMiner (\verb+http://sourceforge.net/projects/ferda+)
vznikl jako softwarovı projekt na Matematicko-fyzikální fakultì Univerzity Karlovy.
Mìl odstranit nejvìtší nedostatky systému LISp-Miner zejména v oblasti modularity
a jednoduchosti uivatelské práce.
Pøedstavuje spoleèné vizuální prostøedí pro šestici
vıše uvedenıch procedur systému LISp-Miner, pøináší vizuální model postupu dobıvání
znalostí podobnı modelùm v komerèních systémech SPSS Clementine, SAS Enterprise Miner apod.
Srovnání s tìmito systémy je rovnì uvedeno v \cite{ferda}.

\subsection{Krabièky}
Ferda pøináší pohled na zadání úlohy dobıvání znalostí jako na zapsání funkce
pomocí jistıch vizuálních objektu -- tzv. krabièek. Kadá krabièka zastává také
roli funkce nebo nìkolika funkcí. Krabièky mají parametry a vyhodnocují své
funkce nad hodnotami tìchto parametru. Parametrùm se u~krabièek øíká zásuvky.
Do zásuvek se zapojují jiné krabièky. Krabièky jsou rozdìleny podle typu a do
kadé zásuvky lze zapojit pouze nìkteré typy krabièek.

Pomocí rady jednoduchıch krabièek je uivateli umonìno sestavovat vlastní
algoritmy. Ferda tedy rovnì pøedstavuje nìco jako uivatelskı programovací
jazyk. Na krabièky se lze však také dívat jako na konstrukce logiky èi
sémantiky, ke které existuje lambda-kategoriální gramatika. Pro ilustraci prostøedí
uvedeme obrazovku z prostøedí Ferda jako obrázek \ref{fig:ferdatutorial}.
\begin{figure}[!h]
\begin{center}
\includegraphics[width=12cm]{pics/ferda-tutorial.eps}
\end{center}
\caption{Hlavní obrazovka prostøedí Ferda DataMiner}
\label{fig:ferdatutorial}
\end{figure}
\paragraph{}
Krabièkovı model je povaován za nejvìtší pøínos prostøedí Ferda DataMiner. Nová funkcionalita
se do prostøedí mùe pøidat ve formì krabièky zapojitelné mezi stávající krabièky. V této diplomové práci
autor implementuje metody uvedené v kapitole \ref{cile} ve formì krabièek, které se zapojují 
do stávajícího zadání úlohy.

\subsection{Moduly}
\begin{figure}[!h]
\begin{center}
\includegraphics[width=12cm]{pics/ferda-design.eps}
\end{center}
\caption{Programátorskı design prostøedí Ferda DataMiner}
\label{fig:ferdadesign}
\end{figure}
Ještì zde uvedeme \emph{modul} z prostøedí Ferda DataMiner. Moduly slouí pro nastavování
parametrù krabièek a pro komunikaci s uivatelem. Moduly pracují nad urèitımi typy krabièek.
Metoda pro statickou úpravu atributu v této práci byla naprogramována jako modul pro interakci s uivatelem.
Na obrázku \ref{fig:ferdadesign} je pro ilustaci uveden celkovı  programátorskı návrh prostøedí
Ferda DataMiner.
\subsection{Diplomová práce ''Experimentální GUHA procedury''}
Zásadním pøínosem pro prostøedí Ferda DataMiner se stala diplomová práce T.Kuchaøe
''Experimentální GUHA procedury'', která pøinesla novou implementaci krabièek šesti
procedur pro dobıvání znalostí a zobecnìní nìkterıch prvkù zadání úlohy oproti jejich
stávající implementaci v systému LISp-Miner. 
\paragraph{}
Pøi implementaci relaèních rozšíøení procedur autor vycházel z jejich nové implementace
v rámci vıše uvedené práce. 
Popis provázanosti se systémem Ferda DataMiner a konkrétnì
s novou implementaci dataminingovıch procedur od T.Kuchaøe v rámci jeho
diplomové práce \cite{kuchar} je souèástí popisu implementace a patøí
do kapitoly \ref{implementation}.


\section{Dùleité rysy metody GUHA}
Zde bude následovat struènı pøehled principù dobıvání znalostí dle metody GUHA,
které jsou nezbytné k pochopení popisu samotné problematiky a implementace
zadání dané diplomové práce. Tyto principy jsou obecné a byly vyuity pøi implementaci
v systémech pro dobıvání znalostí pracujících na principu
GUHA -- viz \ref{implementations}. Pro zevrubnìjší popis autor doporuèuje
prostudování zejména zdrojù \cite{guha} a \cite{kuchar}.

\subsection{Booleovské atributy}
Následuje definice booleovského atributu, jak je uvedena v \cite{guha}.

\newtheorem{booleanattributedef}{Definice booleovského atributu}
\begin{booleanattributedef}
Booleovskı atribut je formule splòující následující podmínky.
\paragraph{}
Pokud \emph{A} je atribut a $\alpha$ je neprázdná podmnoina mnoiny
\{$a_{1},\ldots,a_{k}$\}, pak $A(\alpha)$ je \emph{základní booleovskı atribut}.
$\alpha$ je koeficient základního booleovského
atributu $A(\alpha)$. Kadı základní booleovskı atribut je booleovskı atribut.
Pokud $\phi$ a $\psi$ jsou booleovské atributy, pak $\phi \wedge \psi$,
$\phi \vee \psi$ a $\neg\phi$ jsou odvozené booleovské atributy. Kadı
\emph{odvozenı booleovskı atribut} je booleovskı atribut.
\end{booleanattributedef}
Dále GUHA pracuje s pojmem \emph{dílèí booleovskı atribut}, kterım oznaèuje
booleovské atributy, které vystupují jako operandy v konjunkcích a disjunkcích
booleovskıch atributù.
\paragraph{}
Základní booleovskı atribut $A(\alpha)$ nabıvá hodnoty \emph{true} na øádku
\emph{o} matice \emph{M}, pokud $\emph{a}\in\alpha$, kde \emph{a} je hodnota
atributu \emph{a} na øádku \emph{o} -- dle odstavce 2 v \cite{guha}.
Hodnota odvozenıch booleovskıch atributù se definuje obvyklım zpùsobem
dle následující tabulky:
\begin{table}[!h]
\begin{center}
\begin{tabular}{|c|c|c|c|c|}
\hline
$\phi$ & $\psi$ & $\phi \wedge \psi$ & $\phi \vee \psi$ & $\neg\phi$ \\
\hline
true & true & true & true & false \\
\hline
true & false & false & true & false \\
\hline
false & true & false & true & true \\
\hline
false & false & false & false & true \\
\hline
\end{tabular}
\end{center}
\caption{Hodnoty odvozenıch booleovskıch atributù}
\end{table}
\paragraph{}
Hodnota booleovského atributu $\phi$ v øádku o matice \emph{M} se znaèí
$\phi(o,\emph{M})$. Platí, e $\phi(o,\emph{M})=true$, pokud $\phi$ je pravdivı
na øádku \emph{o} matice \emph{M}, jinak $\phi(o,\emph{M})=false$.

\subsection{Relevantní otázky}
Asociaèní pravidla, která mají bıt vygenerována a ovìøená v souvislosti s metodou GUHA,
se nazıvají \emph{relevantní otázky}. Tvary asociaèních pravidel pro procedury 4ft-Miner a SD4ft-Miner
jsou uvedeny v \ref{miners}.
\subsection{Zadání mnoiny relevantních otázek}
Podrobné monosti nastavení jednotlivıch sloek zadání
booleovského atributu jsou popsány T.Karbanem v \cite{relminer}
a implementovány do prostøedí Ferda DataMiner T.Kuchaøem v \cite{kuchar}.
V prostøedí Ferda DataMiner byly v rámci diplomové práce \cite{kuchar}
naimplementovány krabièky, pomocí kterıch 
lze zadávat základní booleovské atributy, jejich negaci, konjunkci a disjunkci.
U tìch lze zadávat typ koeficientu, dùleitost, u konjunkce a disjunkce navíc
tøídy ekvivalence a délku. Podrobnı popis zadávání mnoiny relevantních otázek
je uveden v práci T.Kuchaøe \cite{kuchar}. Zde pouze uvedeme, e
monosti zadávání mnoiny relevantních otázek v prostøedí Ferda byly rozšíøeny
ve srovnání s monostmi v LISp-Mineru.

\subsection{Kategoriální atributy}
S kategoriálními atributy pracují nìkteré dataminigové procedury. Více o pouití
kategoriálních atributù se lze doèíst v \ref{miners}.


\section{Dataminingové procedury}
Zde popíšeme dataminingové procedury 4ft-Miner a SD4ft-Miner, protoe v dané diplomové práci
byly implementována relaèní rozšíøení právì tìchto dvou procedur. Další
implementované procedury jsou KL-Miner, CF-Miner, SD4CF-Miner, SD4KL-Miner,
a procedura strojového uèení KEX. Tyto procedury jsou implementovány
v prostøedí LISp-Miner a takté v prostøedí Ferda DataMiner (kromì
procedury KEX).
\label{miners}
\subsection{4ft-Miner}
4ft-Miner je
dataminingová procedura, která hledá právì vztahy tvaru $Ant \approx Succ / Cond$.
$Ant$, $Succ$, a $Cond$ jsou zde booleovské atributy odvozené ze sloupcù
 vstupní datové matice. Intuitivní vıznam vztahu $Ant \approx Succ / Cond$
je ten, e atributy $Ant$ a $Succ$ jsou ve vztahu daném $\approx$, je-li splnìna
podmínka zadaná booleovskım atributem $Cond$ na analyzované datové matici.

\subsection{SD4ft-Miner}
SD4ft-Miner je
dataminingová procedura, která hledá právì vztahy tvaru $Ant \approx Succ / 
(\alpha, \beta, Cond)$.
$Ant$, $Succ$, $\alpha$, $\beta$ a $Cond$ jsou zde booleovské atributy odvozené ze sloupcù
 vstupní datové matice. Intuitivní vıznam vztahu $Ant \approx Succ / (\alpha, \beta, Cond)$
je ten, e vztah danı $\approx$ atributù $Ant$ a $Succ$ na mnoinì $\alpha$ se liší od vztahu
$Ant$ a $Succ$ na mnoinì $\beta$, je-li splnìna podmínka zadaná booleovskım
 atributem $Cond$ na analyzované datové matici.


\section{Dùleité rysy implementace metody GUHA}

\subsection{Princip bitovıch øetízkù}
\label{bitstrings}

\paragraph{}
Typická efektivní realizace GUHA procedury pouívá ''vertikální'' reprezentaci
databáze, kde kadá hodnota kadého atributu je reprezentována øetìzcem bitù
(viz. kapitola \ref{bitstrings}). Kadı bit v øetìzci popisuje jeden objekt.
Bit 1 reprezentuje ''objekt má tuto hodnotu'', zatímco bit 0 znamená
''objekt nemá tuto hodnotu''.
\paragraph{}
Bitovı øetìzec mùeme chápat jako bitmapovı index databáze. Pøi klasické
implementaci atributù se bitové øetízky vytváøejí pøi prvním prùchodu daty
a poté není tøeba k tìmto datù pøistupovat. Zde vyvstává otázka, jak efektivnì
uchovávat potøebné bitové øetízky v pamìti. Toto bylo vyøešeno v rámci diplomové
práce T.Kuchaøe \cite{kuchar} pomocí cache bitovıch øetízkù.
\paragraph{}
Pøi implementaci relaèního rozšíøení pro existující dataminingové procedury
se tento princip modifikoval z dùvodù toho, e virtuální atributy nejsou
vytváøeny pøímo ze sloupcù datové matice, ale za bìhu -- podrobnìji pojem
virtuálního atributu je rozebrán v kapitole \ref{vattributes}.
\paragraph{}
Jako ukázku pouijeme následující datovou tabulku.
\begin{table}[!h]
\begin{center}
\begin{tabular}{|c|c|c|}
\hline
ID & A & B \\
\hline
1 & 1 & 1 \\
\hline
2 & 2 & 2 \\
\hline
3 & 1 & 3 \\
\hline
4 & 1 & 1 \\
\hline
5 & 2 & 3 \\
\hline
6 & 2 & 3 \\
\hline
\end{tabular}
\end{center}
\caption{Vzorová datová matice}
\end{table}

\paragraph{}
Bitovı øetìzec $A(\alpha)$ má hodnotu 1 na pozici $i$ právì tehdy, kdy objekt 
s ID $i$ má hodnotu $\alpha$ ve sloupci $A$, jinak má bitovı øetìzec 
na pozici $i$ hodnotu 0.
Bitové øetìzce základních booleovskıch a booleovskıch atributù
mohou vypadat následovnì. 
\begin{table}[!h]
\begin{center}
\begin{tabular}{*{7}{|c}|}
\hline
 & \multicolumn{2}{|c|}{Atributy} 
 & \multicolumn{2}{|c|}{Základní booleovské atributy} 
 & \multicolumn{2}{|c|}{Booleovské atributy}
   \\
\hline
$ID$ & $A$ & $B$ &$A(1)$ & $B(1,2)$ & $A(1)\wedge B(1,2)$ & $\neg B(1,2)$ \\
\hline
1 & 1 & 1 & 1 & 1 & 1 & 0 \\
\hline
2 & 2 & 2 & 0 & 1 & 0 & 0 \\
\hline
3 & 1 & 3 & 1 & 0 & 0 & 1 \\
\hline
4 & 1 & 1 & 1 & 1 & 1 & 0 \\
\hline
5 & 2 & 3 & 0 & 0 & 0 & 1 \\
\hline
6 & 2 & 3 & 0 & 0 & 0 & 1 \\
\hline
\end{tabular}
\end{center}
\caption{Bitové øetìzce atributù}
\end{table}

\subsection{Zadání úlohy}
Metoda GUHA pracuje s kategoriálními daty.
Smyslem zadání úlohy je zejména urèení zpùsobu kategorizace tak, aby byl
co nejvhodnìjší a nejrelevantnìjší jak vzhledem k poadované úloze ke zpracování,
tak i ke zkoumanım datùm.
Bude následovat popis práce s nìkterımi parametry zadání úlohy v prostøedí Ferda DataMiner.
Vìtšina následujícího popisu se vztahuje i na systém LISp-Miner.
\subsubsection{Datovı zdroj}
GUHA pracuje s daty z datovıch matic. Ty jsou získávány pøe\-vánì jako data\-bázové
tabulky èi vısledky operací nad nimi z databází. Pro tento úèel je nutné 
pøi zadávaní úlohy definovat datovı zdroj (momentálnì nej\-èastìji ve formì
pøípojení k databázi pøes rozhraní ODBC) a alespoò jednu datovou matici.
V relaèním rozšíøení data\-miningovıch procedur GUHA se pracuje nad více tabul\-kami,
které jsou mezi sebou ve vztahu 1:N. Pro pohodlí se o nich zmiòujeme jako
o hlavní (master) a ved\-lejších (detail) tabulkách.
\paragraph{}
Dále se z datovıch matic vybírají datové sloupce, ze kterıch se budou vytváøet
atributy obsahující kategorie pro pot\-øebné roz\-dìlení vstup\-ních dat. Data mohou
patøit do rùznıch datovıch typù. Tyto dále ovliv\-ní mo\-nosti kate\-gorizace.
Stojí za zmínku, e zatím nejkomplexnìjší imple\-mentace práce s jednot\-livımi
sémantickımi typy byla realizována v práci \cite{kuchar} -- ''Experi\-mentál\-ní
GUHA procedury''.
\subsubsection{Datová sémantika}
Z pohledu datové sémantiky se mohou vyskytovat tyto ètyøi druhy dat:

\label{datasemantics}
\begin{description}
\item[Nominální data] Hodnoty nejsou vzájemnì porov\-natel\-né, napøíklad
pohlaví nebo oblíbená pøíchu zmrzliny.
\item[Ordinální data] Hodnoty jsou vzájemnì porov\-natel\-né, napøíklad vıše
dosa\-eného vzdìlání.
\item[Cyklická ordinální data] U tohoto sémantického typu se vychází ze
zkuše\-nosti, e pøi zadá\-vaní koeficientu typu \emph{cyklické intervaly}
si èasto nevysta\-èíme pouze s ordinál\-ními daty.
Potøebujeme další vlastnost a to, aby první kategorie pøirozenì ná\-sledo\-vala
po poslední. Jako pøíklad mohou po\-slouit dny v tıdnu nebo mìsíce v roce.
\item[Kardinální data] Tato data jsou reprezentována èíselnımi typy,
napøíklad, reálnımi èísly. Jako pøíklad lze zvolit vıši pøíjmu,
vzdalenost od místa bydlištì, vıši krevního tlaku a podobnì.
\end{description}


\subsubsection{Kategorie}
Metoda GUHA pracuje s diskrétními daty. Data, která
tuto podmínku nesplòují, musí bıt diskre\-tizována. Diskre\-tizovanı sloupec
se oznaèuje jako atribut a jeho hodnoty jsou kategorie..
\paragraph{}
Monosti práce s kategoriemi se postupnì vyvíjely v implemen\-tacích metody GUHA. Kate\-gorie
mùe bıt dvojího typu: buï interv\-alová -- obsahuje koneè\-nı poèet inter\-valù,
kterı pokrıvá zkoumanou mnoinu dat, anebo vıè\-tová, kde vıèet opìt pok\-rıvá
zkoumanou mnoinu dat. V sys\-témech LISp-Miner a Rel-Miner kate\-gorie
mùe obsa\-hovat buï jenom inter\-valy anebo jenom vıèet. A v rámci dip\-lomové
práce \cite{kuchar} mo\-nosti zadávání kate\-gorie byly pøi\-rozenì roz\-šíøeny a imple\-mentovány
do systému Ferda DataMiner tak, aby mohla obsa\-hovat jak inter\-valy, tak i vıèet.
Kategorie tedy obsahuje hodnoty, které jsou pokryty sjed\-nocením vıètu
a intervalù v kategorii. Podmínkou pro monost vytváøení inter\-valù v kategorii
je práce nad daty, které mají sémantickı typ ordi\-nální, cyk\-lickı ordi\-nální
nebo kardi\-nální (viz \ref{datasemantics}).
\paragraph{}
V rámci diplomové práce \cite{kuchar} byly vyt\-voøeny pro\-støedky pro práci
s atributy a kategorii, avšak pro uivatelskou práci byl z dùvodu prac\-nosti
implementován pouze krabièka pro trans\-formaci atributu ''Each value one category'', která, jak plyne
z názvu, umí vytvoøit ze zkoumaného datového sloupce atribut obsahující
vıètové kategorie pro kadou hodnotu ve sloupci.
\paragraph{}
Krabièky pro atributy ''Ekvidistanèní intervaly'' a ''Ekvifrekvenèní intervaly'' ve formì
krabièek pro uivatelskou práci v systému Ferda DataMiner byly implemen\-továny
autorem této diplomové práce, jedná se o pøínos autora. Takté byla autorem
implen\-tována krabièka ''Statickı atribut'', která umoòuje pøímou úpravu
atributu, vèetnì editace vıètu a intervalù u jednotlivıch kategorii.
\paragraph{}
Vıše uvedené krabièky pro transformaci atributu byly pøítomny v první verzi
Ferdy, avšak diplomová práce T.Kuchaøe ''Experimentální procedury'' podstatnì zmìnila
práci se zadáváním úlohy pro procedury GUHA, proto se krabièky musely implementovat znovu.

\subsection{Generování booleovskıch atributù}
Zde pouze struènì naznaèíme zpùsob generování booleovskıch atributù a
poznamenejme, e tento zpùsob uívanı metodou GUHA se podstatnì liší
od zpùsobu, kterı pouívá algoritmus APRIORI popsaného v \cite{aggraval}.
Zpùsob generování naznaèuje obrázek \ref{fig:boolattrgen}.

\begin{figure}[!h]
\begin{center}
\includegraphics[width=8cm]{pics/battr.eps}
\end{center}

\caption{Generování booleovskıch attributù}
\label{fig:boolattrgen}
\end{figure}
Podrobnı popis generování booleovskıch atributù v prostøedí Ferda DataMiner
je uveden v \cite{kuchar}


\subsection{Ovìøování relevantních otázek}

Dataminingové procedury GUHA generují relevantní otázky na základì vstupní
datové matice a zadanıch parametrù úlohy, které poté ovìøují na datech
z datové matice. Relevantní otázky, které jsou pøi ovìøení na vstupních
datech pravdivé, se nazıvají hypotézy a posílají se na vıstup.
\paragraph{}
Podmínka platnosti relevantních otázek je dána tzv. kvantifikátory. 
Kvantifikátor odpovídá podmínce na tzv. kontingenèní tabulku. Vysvìtlíme oba pojmy
pro proceduru 4ft-Miner.
\subsubsection{Kontingenèní tabulka}
Asociaèní pravidlo pro 4ft-Miner má tvar $\phi \approx \psi$, pøípadnì
 $\phi \approx \psi / \chi$ pro podmínìná asociaèní pravidla,
kde $\phi$, $\psi$ a $\chi$ jsou booleovské atributy. Asociaèní pravidlo
$\phi \approx \psi$ se tıká matice $M$. $\phi$ je antecedent, $\psi$ je sukcedent
a $\chi$ je podmínka.
\paragraph{}
Pro verifikaci (podmínìnıch) asociaèních pravidel úloh procedury 4ft-Miner
je vyuívaná tzv. ètyøpolní kontingenèní tabulka (four fold contingency table, 
zkrácenì 4ft -- odtud název procedury 4ft-Miner). Ta zachycuje poèty 
(frekvence) objektù, které splòují antecedent i sukcedent, splòují pouze jeden,
pøípadnì ani jeden z nich.
Pro pevnì zvolenı antecedent $\phi$, sukcedent $\psi$ a podmínku $\chi$
mùeme spoèítat frekvence objektù v matici dat $M/\chi$
(matice dat splòujících podmínku $\chi$) splòujících antecedent, sukcedent, antecedent i sukcedent
nebo ani antecedent ani sukcedent. 
Frekvence tìchto objektù mùeme reprezentovat ètyøpolní kontingenèní tabulkou.

\begin{table}[!h]
\begin{center}
\begin{tabular}{|c|c|c|c|}
\hline
$M/\chi$ & $\psi$ & $\neg\psi$ & $\sum{}$\\
\hline
$\phi$ & $a$ & $b$ & $r$\\
\hline
$\neg\phi$ & $c$ & $d$ & $s$\\
\hline
$\sum{}$ & $k$ & $l$ & $n$\\
\hline
\end{tabular}
\end{center}
\caption{Ètyøpolní kontingenèní tabulka pro antecedent $\phi$, sukcedent $\psi$ a podmínku $\chi$ na matici dat $M$}
\label{tab:fourfoldtable}
\end{table}

V tabulce \ref{tab:fourfoldtable} je $a$ poèet objektù (øádkù) analyzované matice dat 
(splòujících podmínku $\chi$) splòujících jak antecedent, tak sukcedent, $b$ je poèet objektù
splòujících antecedent a nesplòujících sukcedent, $c$ je poèet objektù nesplòujících antecedent
a splòujících sukcedent a $d$ je poèet objektù nesplòujících ani antecedent ani sukcedent. 
Poznamenejme, e $r=a+b$ znaèí poèet objektù splòujících antecedent, $s=c+d$ je poèet objektù,
které nesplòují antecedent. Souèty sloupcù $a+c=k$  resp. $b+d=l$ odpovídají poètu objektù, které splòují resp. nesplòují sukcedent. Navíc $n=r+s=k+l=a+b+c+d$ je poèet všech objektù v matici dat $M/\chi$.

\subsubsection{Kvantifikátory}

Symbol $\approx$ se nazıvá 4ft-kvantifikátor. 4ft-kvantifikátory 
odpovídají podmínce na ètyøpolní tabulku. Na základì ètyøpolní tabulky se urèuje,
zda relevantní otázka je èi není relevantním tvrzením tj. hypotézou. 4ft-kvantifikátor pøiøazuje
ètyøpolní tabulce $\langle a, b, c, d\rangle$ èíslo z mnoiny  $\{0, 1\}$.
Relevantní otázka $\phi \approx \psi / \chi$ je relevantním tvrzením právì tehdy, 
kdy  $\approx(a, b, c, d)=1$.
4ft-kvantifikátory mohou vyjadøovat rùzné vztahy, napøíklad implikaèní, ekvivalenèní,
mohou mít formu statistického testu atd. Jako pøíklad uvedeme 4ft kvantifikátor
\emph{fundované implikace}.
\paragraph{Fundovaná implikace}
\label{foundedimplication}
4ft-kvantifikátor $\Rightarrow_{p, Base}$ \emph{fundované implikace} pro 
$0<p\leq 1$ a $Base>0$: platí, e $\Rightarrow_{p, Base}(a,b,c,d)=1$ právì kdy
$\frac{a}{a+b}\geq p$ a $a\geq Base$.

Asociaèní pravidlo  $\phi \Rightarrow_{p, Base} \psi$ je pravdivé právì tehdy,
pokud je splnìna podmínka vıše. Fundovaná implikace mùe bıt interpretována napøíklad takto:
''100\% zkoumanıch objektù splòujících $\phi$ splòuje také $\psi$'' 
nebo ménì formálnì ''$\phi$ implikuje $\psi$ na 100\%''. 
Podmínka na $a$ zajišuje, e v datové matici $M$ (resp. $M/\chi$) je dostateènı poèet 
objektù splòujících  $\phi$ a $\psi$  (tedy e pravidlo má dostateènou podporu v datech matice $M$).

\subsection{Generování relevantních otázek}
Následující odstavec naznaèuje zpùsob generování a verifikace relevantních
otázek. Podrobnìji se s principem generování lze seznámit v disertaèní práci
T.Karbana \cite{relminer}, pro konkrétní implementaci v prostøedí 
Ferda DataMiner v diplomové práci T.Kuchaøe \cite{kuchar} a takté
v \cite{guha}.


\paragraph{}
Na následujícím pseudokódu lze nahlédnout na zpùsob generování relevantních
otázek u dataminingové procedury 4ft-Miner.
\clearpage
\begin{verbatim}
foreach(BitString condition in Conditions)
{
    foreach(BitString antecedent in Antecedents)
    {
        foreach(BitString succedent in Succedents)
        {
            ContingencyTable table = 
                ComputeTable(succedent, antecedent, condition);
            if (VerifyQuantifiers(table))
                result.Add(succedent, antecedent, condition);
        }
    }
}
\end{verbatim}

Objekty \verb+Antecedents+, \verb+Succedents+ a \verb+Conditions+ jsou
iterátory bitovıch øetìzcù umoòující prùchod pøes všechny moné hodnoty
zadání booleovskıch atributù. Ústøední implementaèní úlohou autora dané
diplomové práce byla právì implementace iterátoru bitovıch øetìzcù, kterı by
poskytoval bitové øetízky odpovídající virtuálním atributùm.

\section{Relaèní asociaèní pravidla a virtuální atributy}
\subsection{Úvod}
Zde bude krátce popsáno rozšíøení asociaèních pravidel pro práci s vícero datovımi
tabulkami takové, aby byly zachovány všechny vlastnosti metody GUHA a zároveò
aby se umonil popis zajímavıch vztahù nalezenıch na více datovıch tabulkách.
Vlastnosti metody GUHA, zejména zadávání úlohy a implementace
pomocí práce s bitovımi øetízky zùstanou zachovány. Pro podrobnìjší popis
teorie rozšíøení metody GUHA o pravidla pro relaèní dobıvání dat autor doporuèuje
prostudovat \cite{relminer}. Protoe cílem dané diplomové práce je konkrétní
implementace postupu relaèního dataminingu, zde se zamìøíme pouze na nìkteré
nejdùleitìjší aspekty kritické pro pochopení implementace v rámci prostøedí
Ferda.
\subsection{Virtuální atributy}
\label{vattributes}
Asociaèní pravidla se rozšíøí o monost práce s více datovımi tabulkami.
Datová matice, která byla zkoumána pomocí pùvodních asociaèních pravidel, 
bude hlavní. Další datové tabulky budou rozšíøením hlavní tabulky o nìjakı atribut
a mohou bıt obecnì ve vztahu 1:N ke hlavní datové matici. 
\paragraph{}
Jako pøíklad mùe
poslouit databáze klientù banky, kde v hlavní tabulce máme uloeny osobní
údaje klientù a napøíklad v tabulce transakce jsou uloeny transakce pro úèty
klientù. Dalším pøíkladem je databáze pacientù, kde v rozšíøující tabulce jsou
uloená mìøení krevního tlaku pro jednotlivé pacienty.
\paragraph{}
Základním pojmem, o kterı se rozšíøí pùvodní asociaèní pravidla, je
\emph{vir\-tuální atribut}. Virtuální atributy jsou novì pøidané sloupce
k analyzované datové matici. Tyto sloupce se do pùvodní datové matice zpìtnì
neukládají, avšak dolování dat probíhá, jakoby tyto novì vytvoøené sloupce
v pùvodní matici byly -- vytváøejí se (nebo v pøípadì konkrétní implementace
v rámci dané diplomové práce se vytváøí pouze jejich reprezentace za pomocí
bitovıch øetízkù) za bìhu.
\paragraph{}
Pro názornost uveïme nìkolik pøíkladù virtuálních atributù. Pouijeme
databázi klientù fiktivní banky Barbora, kde hlavní tabulka obsahuje
základní data o klientech a tabulka transakcí obsahuje pohyb na jejich úètech
(pouité tabulky jsou podrobnì popsány v kapitole \ref{tests}).
Zkoumejme následující asociaèní pravidlo:
\begin{eqnarray}
\label{eq:aggrattributeexample}
(TYPE="VKLAD") \& (AVGAMO{}UNT > 5000) \nonumber\\
\Rightarrow_{0,8;20} OPERATION="PREVOD NA{}UCET"
\end{eqnarray}
Typ transakce je VKLAD, jeho prùmìrná vıše je vìtší ne 5000.
$\Rightarrow_{0,8;20}$ znaèí kvantifikátor fundované implikace, jak je
uveden v \ref{foundedimplication}.
Zde jsme pouili jeden virtuální atribut $AVGAM{O}UNT$, kterı je odvozenı jako:

\begin{eqnarray}
AVG(amount)
\end{eqnarray}
 kde $AVG$ je
agregaèní funkce SQL. Hypotéza mùe znamenat zjednodušenì øeèeno
pøedpoklad o faktu, e vyšší pøísuny penìz na úèet probíhají spíše
bezhotovostnì. Tato hypotéza mùe a nemusí mít smysl -- autor neaspiruje
na odborníka v oblasti bankovnictví.
Uvame další hypotézu:
\begin{eqnarray}
\label{eq:hyprattributeexample}
(VYSOKEINKASO) \& (SALARY(>15000)) \&   \nonumber\\
(BYDLISTE="Praha")\Rightarrow_{0,8;10} STATUSUVERU="Dobry"
\end{eqnarray}
Hypotéza tvrdí, e klienti, kteøí mají vyšší plat a platí vysoké inkaso
v okrese Praha, mají z 80\% dobré úvìry.
Zde jsme pouili jeden virtuální atribut $VYSOKEINKASO$ , kterı
mùe vypadat následovnì:
\begin{eqnarray}
\label{eq:hyprattributeexample1}
TYPE="INKASO"  \Rightarrow_{0,9;10} AMOUNT > 5000
\end{eqnarray}
Jinımi slovy, pokud typ transakce je INKASO, je z 90\% vysoké.
\paragraph{}
Zde data s informacemi o klientech a data s informacemi o jejich transakcích
jsou dvì samostatné datové matice.
\paragraph{}
Vıše uvedené pøíklady uvádí oba druhy virtuálních atributù, jak jsou chápany
v \cite{relminer}. Oba druhy atributù jsou v rámci dané práce implementovány
do prostøedí Ferda.
\paragraph{}
První skupinou jsou sloupce vzniklé jako vısledek pøed\-zpraco\-vání dat z data\-báze.
Jmenují se agre\-gaèní atri\-buty. Druhou sku\-pinou jsou vir\-tuální at\-ributy vznik\-lé
jako vıs\-ledek bìhu nìk\-teré z data\-miningovıch úloh -- konkrét\-nì na\-pøíklad mùeme
pouít míru plat\-nosti hypo\-téz pro jednot\-livé záz\-namy v hlav\-ní tabul\-ce jako
novı datovı sloupec. Navenek oba druhy atributu pracují s daty z vedlejší datové matice,
provádí na ní nìjaké transformace a jako vısledek vznikají nové ''virtuální'' sloupce
skládající se obecnì z reálnıch èísel,
které jsou pøidány do hlavní datové matice.
\subsubsection{Agregaèní atributy}
\emph{Agregaèní atribut} se reprezentuje novımi virtuálními sloupci (které se
z definice virtuálního atributu neukládá do databáze),
Tyto sloupce vznikají jako vısledek pøedzpracování dat z více datovıch tabulek. 
Pro kadı objekt z hlavní datové matice se pøiøadí reálné èíslo
vypoèítané na základì hodnot v odpovídajících sloupcích z vedlejších datovıch 
matic. Formálnìji lze agregaèní atribut definovat jako funkci nad relevantními sloupci
vedlejší datové matice, která vrací reálné èíslo.
\paragraph{}
Pøínosem agregaè\-ního atributu je zjed\-no\-dušení zadá\-vání data\-miningové úlohy. Vıs\-ledku,
kterı pøi\-náší agregaè\-ní atri\-but, lze dosáh\-nout i jinak -- na\-pøíklad pøed\-zpracováním
dat pøed samotnou tìbou dat, pøidáním po\-a\-dova\-nıch sloupcù do hlavní datové matice apod.
Agregaè\-ní atr\-ibut umoòuje pru\-nì mìnit zadání úlohy -- zjis\-tíme-li na\-pøíklad
z vıs\-ledkù po dobìh\-nutí úlohy, e bychom potøe\-bovali zmìnit zadání a zkoumat jiná data,
ne\-musíme ruè\-nì vytváøet pot\-øebné sloupce v hlav\-ní datové matici (které navíc
budeme potøebovat pouze pro právì zpracovávanou úlohu a které se budou muset po do\-bìhnutí úlohy opìt smazat)
a místo toho zmìníme pouze zadání agregaè\-ního atri\-butu.
\paragraph{}
Jako pøíklady takto uvaovanıch funkcí mùe poslouit mimo jiné
mnoina SQL agregaèních funkcí, která vyhovuje vıše uvedené definici. Dále mùeme
uvaovat mnoinu obecnìjších funkci zpracovávajících data z vedlejších
datovıch tabulek. Pøíklad implementace takovıch funkcí mùeme naleznout v
\cite{duchacek} -- jedná se o implementaci ve formì skriptu napsaného
v jazyce C\# interpretovaného
pøímo za bìhu. Takto lze implementovat i obecnìjší agregaèní atributy ne
pouze za pouití SQL agregaèních funkcí.

\subsubsection{Hypotézové atributy}
\label{hypattr}
Na rozdíl od agregaèních atributù, \emph{hypotézové atributy} nelze získat za pomocí
pøedzpracování dat z hlavní a vedlej\-ších datovıch tabulek. Tyto 
atributy vznikají jako vısledek bìhu data\-miningovıch úloh nad vedlejšími
datovımi tabulkami a dále se pouívají pøi bìhu dataminingovıch úloh nad
hlavní datovou tabulkou. Ústøední myšlenkou je zavést definici atributu
se sémantikou hypotézy (ve smyslu metody GUHA), jeho hodnotou by byla konkrétnì
síla nebo platnost hypotézy nad vedlejšími datovımi tabulkami a takto
nadefinovanı sloupec by se pouil ''o úroveò vıše'' -- pro generaci hypotéz
pøi bìhu další dataminingové úlohy.
\paragraph{}
Uvedli jsme pøíklad \ref{eq:hyprattributeexample}. Na základì platnosti hypotézy
$VYSOKEINKASO$ mùeme rozdìlit mnoinu klientù a zkoumat další souvislosti
pouze na té podmnoinì klientù, kde platí hypotéza $VYSOKEINKASO$. Uvaujeme-li
platnost hypotézy $VYSOKEINKASO$ jako (virtuální) atribut, mùeme ho zapojit
do zadání nové úlohy napøíklad pro 4ft-Miner jako antecedent nebo sukcedent.
Je-li atribut zapojen jako antecedent, omezuje mnoinu zkoumanıch objektù
na ty, pro které daná hypotéza z virtuálního atributu platí a ty dále zkoumá.
Zaøadíme-li tento atribut do sukcedentu, úloha bude spoèívat v nalezení pøed\-pokladu
pro platnost hypotéz z virtuálního atributu.
\paragraph{}
Z pøíkladu \ref{eq:hyprattributeexample} vyplıvá, e zadání virtuálního
atributu je vlastnì vısledkem bìhu dataminingové úlohy nad vedlej\-ší datovou
matici. Tato úloha nad vedlejší datovou matici (budeme jí øíkat podúloha)
musí probìhnout vícekrát, vdy pouze nad tìmi øádky z vedlejší matice, které se vztahují
ke zkoumanému objektu z hlavní matice. Toto lze ilustrovat obrázkem \ref{fig:master-client1}.

\paragraph{}
\begin{figure}[!h]
\begin{center}
\includegraphics[width=8cm]{pics/master_client1.eps}
\end{center}
\caption{Master-detail tabulka}
\label{fig:master-client1}
\end{figure}

\paragraph{}
Zde podúloha probìhne nad transakcemi 1 a 2, vısledek (reálné èíslo) pøidá
do nového virtuálního sloupce na pozici pro klienta ABC. Dále podúloha probìhne znovu
nad transakcemi 3 a 4, pøidá na pozici pro klienta DEF další reálné èíslo a obdobnım zpùsobem
pokraèuje pro zbytek matice.
\paragraph{}
Uvaujeme-li o podúloze jako napøíklad o proceduøe 4ft-Miner, víme, e ta generuje relevantní
otázky na základì zadání a ovìøuje na nich platnost zadanıch kvanitifikátorù oproti zkoumané
datové matici. 4ft-Miner vrací jako vıstup pouze relevantní otázky, na kterıch platí
takto zadané kvantifikátory.
\paragraph{}
Spustíme-li 4ft-Miner nad relevantními øádky vedlejší datové matice, dostaneme
jako vıstup platné i neplatné relevantní otázky (uvaujme na chvíli, e 4ft-Miner
je takto jednoduše upraven). V pøípadì procedury 4ft-Miner mùeme získat booleovskı
vektor platností jednotlivıch relevantních otázek,
obecnì procedury mohou vracet sílu platnosti jako reálné èíslo, dostaneme
tedy vektor reálnıch èísel. Po prozkoumání celé vedlejší datové matice získáme poèet
vektorù platnosti relevantních otázek rovnı poètu øádkù v hlavní datové matici --
pro kadého klienta prozkoumáme relevantní otázky generované podúlohou,
které platí na právì jeho transakcích. Poèet virtuálních sloupcù vygenerovanıch virtuálním atributem
(podúlohou 4ft-Miner) je rovnı délce vektoru platnosti relevantních otázek. Chceme-li získat
$i$-tı virtuální sloupec, vezmeme z kadého vektoru hodnotu na $i$-té pozici.
\paragraph{}
Vısledkem bìhu podúlohy je tedy mnoina novıch virtuálních sloupcù,
které jsou pøidány za bìhu k hlavní datové matici a hlavní dataminingová úloha
s nimi pracuje jako s ostatními sloupci.
\subsection{Nárùst sloitosti vıpoètu}
Z dosavadních zkušeností s prostøedím LISp-Miner a Ferda DataMiner víme, e
zkoumané úlohy èasto produkují relevantní otázky v øádu tisícù. Z vıše uvedeného
popisu získávání virtuálních sloupcù plyne, e pro kadou relevantní otázku
se do hlavní datové matice pøidá virtuální sloupec. Je vidìt, e pøi pouívání
hypotézového atributu v zadání úlohy pro dataminingovou proceduru lze velmi
lehce dosáhnout vırazného zesloitìní pùvodní úlohy a rychlému nárùstu velikosti
zkoumané datové matice. Tato skuteènost vede ke zpomalení bìhu úlohy a ke generování
velkého poètu hypotéz, které øíkají skoro toté, protoe mají velmi podobné hodnoty
hypotézového atributu. Vıhodou je vìtší granularita úlohy a 
monost nalezení nejpøesnìjšího zadání virtuálního atributu tak,
aby platil na co nejvìtší podmnoinì zkoumanıch dat.
\subsection{Omezení na hvìzdicové schéma}
V dané diplomové práci se autor rozhodl pro omezení akcep\-tovaného
data\-bázového schématu na hvìz\-dicovı, kde máme pouze jednu
hlavní datovou matici (databázovou tabulku) a ved\-lejší datové
matice (tabulky), které jsou v relaci 1:N s hlavní data\-bázovou tabulkou.
Rovnì je zakázána rekurze virtuálních atributù -- tj. nelze
hypotézovı atribut pouít v zadání pro další hypotézovı atribut.
\paragraph{}
Teoretické dùvody danıch omezení jsou podrobnìji rozebrány v \cite{relminer}. Zde
se uvede krátké shrnutí z dùvodu lepšího porozumìní zpùsobu imple\-mentace,
kterı je popsán dále v dané diplomové práci, konkrétnì v kapitole \ref{implementation}.

\begin{description}
\item[Vıznam] hypotéz gene\-rovanıch pomocí rekur\-zivních hypo\-tézovıch atri\-butù
lze jen tìko pop\-sat v pøi\-rozeném jazy\-ce.
Obtínì se interpretují zá\-vislosti na\-lezené na zkou\-manıch datech.
Autor dané práce se proto domnívá, e hypo\-tézy vzniklé z úlohy obsahující rekur\-zivní
vir\-tuální atri\-buty sice mohou mít dobrı teore\-tickı smysl, avšak vzhledem
k cel\-kovému zamìøení pro\-støedí Ferda DataMiner na vıuku data\-miningu pro stu\-denty
se nehodí do celkové kon\-cepce tohoto prostøedí, aè jsou v tomto
prostøedí implemen\-tovatelné a jsou pro nì autorem vy\-tvoøeny programo\-vací
pro\-støedky.
\item[Zobrazení] vısledkù úloh obsahujících rekurzivní virtuální atributy
se stává samo o sobì obtínım. Pro kadou vıslednou hypotézu se musí zobrazit
její atributy, které mohou bıt tvoøeny opìt hypotézami, které mají své atributy atd.
Tento dùvod souvisí s pøedchozím -- nejasnı vıznam vısledkù vede k potíim jak
pøi interpretaci, tak i pøi pouhém zobrazení.
\item[Rychlost] zpracování úlohy s rekur\-zivnì zapojenımi relaè\-ními atri\-buty
bude velmi rychle klesat. Podrob\-nìji se o tomto po\-jednává v \cite{relminer}.
Z uvedeného zpù\-sobu genero\-vání virtuálních sloupcù je vidìt, e jejich poèet mùe bıt velkı
a proto úloha nad hlavní matici se zpomalí. Pøed\-stavíme-li si, e pouijeme v zadání
hypo\-tézového atributu další hypo\-tézovı atribut, pak první pod\-úloha bude zkoumat vel\-kı poèet sloupcù
vy\-ge\-ne\-rova\-nıch druhou podúlohou, a opìt vy\-generuje velkı poèet rele\-vant\-ních otázek pro nadúlohu.
Kdy uváíme monost pouití v zadání vícero virtuálních atributu, je vidìt, e sloitost a doba
vıpoètu znaènì stoupnou. Tento problém se nazıvá
''Hypothesis space explosion'', jak o nìm pojednává T.Karban v \cite{relminer}.
\end{description}
\paragraph{}
Z vıše uvedenıch dùvodù
a dosavadních pokusù s funkèní implemen\-taci relaè\-ního roz\-šíøení dvou
minerù bylo rozhod\-nuto ponechat monost rekur\-zivního zapojení
virtuál\-ních atributù pro budoucí vıvoj.
\subsection{Jiné metody relaèního dataminingu}
Zde se pouze krátce zmíníme o existujících pøís\-tupech k data\-miningem
nad více tabulkami dat.
\paragraph{}
Nejrozšíøenìjším metodou relaèního dobıvání znalostí je metoda \emph{induktivního 
logického programování (ILP)}. Prin\-cip ILP mùe bıt pop\-sán ná\-sledovnì: z data\-báze faktù
a oèekávanıch vısledkù, které jsou roz\-dìleny na klad\-né a zápor\-né pøí\-klady, met\-ody
pracující na základì ILP se snaí odvodit logickı program, kterı dokáe všechny kladné
a ádnı zápornı pøíklad.
\paragraph{}
Vıznamnım zástupcem metod ILP, které pracují s metodami relaèního data\-miningu je algoritmus
WARMR. Je rozšíøením algoritmu APRIORI pro hledání relaèních asociaèních pravidel.
Detailní porovnání relaèního rozšíøení metody GUHA
a metody WARMR provádí T.Karban jako souèást své diser\-taèní práce
\cite{relminer}.
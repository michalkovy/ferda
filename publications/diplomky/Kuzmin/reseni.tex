\chapter{Øešení}
\paragraph{}
V této kapitole budou popsané obecné charakteristiky programátorské
implementace v rámci této diplomové práce.
\label{implementation}
\section{Vztah k práci \uv{Experimentální GUHA procedury}}
\paragraph{}
Zde se podrobnì uvede vztah diplomové práce T.Kuchaøe \uv{Experimentální GUHA procedury}
uvedené v seznamu pouité literatury jako \cite{kuchar}.
\paragraph{}
Jak bylo podrobnì popsáno v kapitole \ref{ferdaproject}, Ferda DataMiner
vznikl jako studentskı projekt s cílem implementace obecnìjší platformy
pro dobıvání znalostí se základním prvkem pojmenovanım krabièka, viz \cite{ferda}
pro podrobnìjší informace.
\paragraph{}
V dobì jeho vzniku ji byly získány rozsáhlé uivatelské
zkušenosti se systémem LISp-Miner a Ferda DataMiner byl navren s ohledem
na tyto zkušenosti. V rámci studentského projektu byly implementovány procedury metody
GUHA s pouitím
existujících modulù prostøedí LISp-Miner. To pøineslo øadu potíi podrobnì
popsanıch T.Kuchaøem v \cite{kuchar} a proto bylo evidentní, e procedury GUHA
se musí do prostøedí Ferda DataMiner pøidat bez vyuití LISp-Mineru.
\paragraph{}
Implementaci šesti GUHA procedur a modulù pro zadání úlohy implementoval
T.Kuchaø ve své diplomové práci \uv{Experimentální GUHA procedury},
jak u zde bylo nìkolikrát zmínìno. Pro implementaci relaèních rozšíøení existujících procedur
byly konkrétnì pouity nebo upraveny následující prvky implementované T.Kuchaøem. Pro ilustraci uvádíme obrázek \ref{fig:ferdaarchitecture} ilustrující 
architekturu systému Ferda DataMiner, jak ho uvádí T.Kuchaø v \cite{kuchar}.

\paragraph{}
\begin{figure}[!h]
\begin{center}
\includegraphics[width=15cm]{pics/ferda-architecture}
\end{center}
\caption{Architektura prostøedí Ferda DataMiner}
\label{fig:ferdaarchitecture}
\end{figure}

\begin{description}
\item[Spoleèná databázová vrstva]byla pouita pro implementaci agregaèního a hypotézového atributem. Nìkteré metody této vrstvy
musely bıt upraveny pro pouití s relaèními rozšíøeními. Byly mj. pøidány pro\-støed\-ky pro práci s tzv. \emph{agregaèním virtuálním sloupcem} ve smyslu
sloupce generovaného pøi pouití agregaèních funkcí a také prostøedky pro generování tzv. \emph{CountVectoru}, jeho vıznam je objasnìn pozdìji v kapitole
\ref{implementationdetails}.
\item[Prostøedky \uv{Mining Processor}] byly vyuity pro implementaci hy\-po\-té\-z\-ové\-ho atributu. Relaèní rozšíøení vyuívají zadání úlohy
stejnì jako nerelaèní procedury 4FT a SD4FT. Byla upravena vrstva generování vısledkù, aby místo pravdivıch hypotéz poskytovala všechna asociaèní pravidla, jak
je popsáno v úvodu v kapitole \ref{vattributes} a dále byla upravena mezivrstva poskytování bitovıch øetízkù, aby zajistila práci s vlastní cache bitovıch
øetízkù pro virtuální atributy a aby zajistila získávání bitovıch øetízkù na odlišném principu, ne byl implementován v \cite{kuchar}.
Dále byly provedeny úpravy pro snazší implementaci relaèních rozšíøení zbıvajících procedur.
\item[BitString Cache] nebyl pouíván pro hy\-po\-té\-zo\-vé atributy, místo toho se pro nì implementoval odlišnım zpùsobem, jak bude objasnìno v kapitole \ref{implementationdetails}.
\item[Krabièky DAL] byly rozšíøeny o krabièku \uv{Agregaèní virtuální sloupec}, která implementuje agregaèní atribut ve smyslu relaèního dobıvání znalostí.
Krabièka má stejné vlastnosti a zásuvky jako krabièka \uv{Sloupec} implementována v rámci \cite{kuchar} a pøidává nìkteré nové prvky, které jsou podrobnìji ukázány v kapitole \ref{implementationdetails}.

\item[Krabièky ATT] byly rozšíøeny o krabiè\-ky pro transformaci atributu a kra\-biè\-ky hypotézovıch atributù. Krabièky pro transformaci atributu vy\-uí\-va\-jí
algoritmù pro generování ekvidistaèních a ekvifrekvenèních intervalù implementovanıch v rámci \cite{kuchar}.
\end{description}
Podrobnı seznam vytvoøenıch a zmìnìnıch souborù se zdrojovım kódem je uveden v dodatku \ref{sourcecode}.
\paragraph{}
Monost snadné integrace a vyuití existujících prostøedkù byla od zaèátku jedním
z hlavních cílù projektu Ferda Data\-Miner. Z tohoto a dalších dùvodù
uvedenıch vıše se odvíjely zásady implementace.

\section{Zásady implementace}
\paragraph{}
Zde bude popsán obecnı programátorskı pøístup k øešení implementace.
\subsection{Licence}
\paragraph{}
Protoe prostøedí Ferda Data\-Miner je vyvíjeno pod licenci
GNU Public License (GPL), implementace v rámci dané diplomové práce
je rovnì vyvíjeno pod licenci GPL. Daná licence umoòuje
nejen volné pouití programu, ale také zaruèuje volnı pøístup
ke zdrojovému kódu programu a jeho rozšiøování pod podmínkou,
e vıslednı kód bude rovnì pod GPL licenci. Plnı text GNU
Public License lze nalézt na \verb+http://www.gnu.org/licenses/gpl.txt+.
\subsection{Platforma}
\paragraph{}
Implementace v rámci dané diplomové práce byla napsána
v jazyce C\# stejnì jako stávající implementace prostøedí
Ferda DataMiner. Jedním z cílù (u od doby studentského projektu)
je monost práce s prostøedím Ferda DataMiner na více platformách.
Pod OS Windows lze vyuít platformu Microsoft .NET Framework
(\verb+http://www.microsoft.com/cze/net/+),
na jinıch operaèních systémech (napøíklad Linux nebo
MacOS) pak prostøedí Mono \newline (\verb+http://www.mono-project.com+) .
\paragraph{}
Prostøedí Ferda Data\-Miner bylo navreno modulárnì. Jeho jednotlivé
èásti mezi sebou komunikují pøes middleware Internet Communications
Engine ICE (\verb+http://www.zeroc.com+), co je moderní alternativa
podobnému frameworku CORBA a podporuje nìkolik rozšíøenıch programovacích
jazykù, mezi které patøí také C\#.
\subsection{Vıkonnostní testy}
\paragraph{}
Souèástí dané diplomové práce jsou testy
relaèních rozšíøení dataminingovıch procedur. Testy
se zamìøí na hranice únosnosti zadání úlohy
ve smyslu doby bìhu, na vliv velikosti zpracovávané
datové matice na bìh relaèních rozšíøení a také
na dùleitost vyuití cache pro generované bitové
øetízky virtuálním atributem. V úplnì pùvodním
návrhu implementace se s cache vùbec ne\-po\-èí\-ta\-lo
z dùvodù uvedenıch dále, proto testy zahrnují
i bìh úlohy s vypnutou cache pro ilustraci zdùvodnìní
její zavedení navzdory pùvodnímu návrhu. Testy jsou popsány
v kapitole \ref{tests}.
\subsection{Dokumentace}
\subsubsection{Uivatelská dokumentace}
\paragraph{}
Uivatelská dokumentace je zahrnutá v textu práce
jako popis implementovanıch krabièek v kapitole \ref{implementationdetails} .
\subsubsection{Programátorská dokumentace}
Návrh øešení implementace je souèástí textu této diplomové práce. Zásahy do architektury prostøedí Ferda DataMiner byly popsány vıše,
diskuze nad implementaci konkretních metod je popsána dále v tomto textu.
Poznámky pøímo k detailùm implementace jsou souèástí zdrojového kódu.
Tato dokumentace mùe bıt kdykoliv vygenerována ve zvláštním souboru.
\section{Agregaèní atribut}

\subsection{Diskuze nad implementaci}
\paragraph{}
Pøi rozhodování o rozsahu implementované funkènosti ag\-re\-gaè\-ní\-ho vir\-tuál\-ní\-ho
atributu se bral v potaz fakt, e daleko zajímavìjším atributem pro vyuití
v relaèním dobıvání znalostí je atribut hypotézovı. Proto po dohodì s vedoucím práce bylo
rozhodnuto implementovat pouze základní funkènost ag\-re\-gaè\-ní\-ho virtuálního atributu.
Základní funkènost zde znamená monost projekce vybraného sloupce z vedlejší datové matice
na základì zadanıch klíèù pro spojení hlavní a vedlejší datové tabulky, pøièem
sloupec mùe bıt specifikován nejen názvem, ale i vlastním vırazem SQL, kterı mùe obsahovat
napøíklad pouití agregaèních funkcí.
\paragraph{}
Autor dané diplomové práce si uvìdomuje fakt, e tento atribut mùe bıt obecnìjší
ne pouze spojení dvou databázovıch tabulek dle klíèe a pouití funkcí SQL.
V diplomové práci M.Ducháèka uvedené v seznamu pouité literatury jako \cite{duchacek} je
implementován obecnìjší pøístup k agregaènímu virtuálnímu atributu. Ve zmínìné práci
je umonìno na tomto atributu spouštìt nejen agregaèní funkce jazyka SQL, ale obecnì
lze provádìt jakoukoliv úpravu dat pomocí procedur napsanıch v jazyce C\#, jejich kód je
interpretován za bìhu.
\paragraph{}
Musíme si však také uvìdomit, e vıše uvedená funkènost tvoøí
velmi podstatnou èást diplomové práce M.Ducháèka. Vzhledem k faktu, e autor této
diplomové práce mìl pøed sebou implementaci jak hypotézového atributu, tak i tøí
dalších modulù pro dynamickou transformaci atributu a jednoho modulu pro statickou úpravu atributu,
bylo rozhodnuto naprogramovat v rámci agregaèního hypotézového atributu pouze vıše uvedené vlastnosti.

\section{Hypotézovı atribut}
\subsection{Diskuze nad implementaci}
\paragraph{}
Pøi implementaci muselo bıt vyøešeno nìkolik problému.
Jejich øešení bylo podrobnì diskutováno s vedoucím diplomové práce
pøiblinì v následujících bodech.
\paragraph{}
Pro zaèátek si ještì jednou pøipomeneme základní algoritmus generování
asociaèních pravidel a ovìøování hypotéz pro dataminingovou proceduru 4FT.
%\clearpage
\begin{verbatim}
foreach(BitString condition in Conditions)
{
    foreach(BitString antecedent in Antecedents)
    {
        foreach(BitString succedent in Succedents)
        {
            ContingencyTable table = 
                ComputeTable(succedent, antecedent, condition);
            if (VerifyQuantifiers(table))
                result.Add(succedent, antecedent, condition);
        }
    }
}

\end{verbatim}
\paragraph{}
Objekty \verb+Antecedents+, \verb+Succedents+ a \verb+Conditions+ jsou
v prostøedí Ferda DataMiner naprogramovány jako iterátory poskytující bitové øetízky
a tím umoòují prùchod pøes všechny moné hodnoty zadání booleovskıch atributù.
Pøi implementaci relaèních rozšíøení stávajících procedur bylo nutné zajistit
poskytování bitovıch øetízkù pro tyto iterátory (zde uvedenı pseudokód lze chápat
jako bìh nadúlohy). Podúloha generuje virtuální sloupce a je potøeba je napojit
na vıše zmínìné iterátory.
\subsubsection{Zpùsob bìhu podúlohy}
\label{subtaskimplementation}
\paragraph{}
Bìhem diskuze se diskutovaly následující tøi pøístupy, jak mùe pod\-úlo\-ha bìet.
\begin{description}
\item[Pøedbìné generování]
Podúloha by se spouštìla pøedem na vedlejší datové matici. Vısledky ve formì
buï virtuálních sloupcù a(nebo) bitovıch øetízkù by se pøechodnì skladovaly
v pamìti èi ve formì serializovanıch objektù a pøi následném bìhu nadúlohy
by se této pøedloily. Podobnım zpùsobem jsou implementovány napøíklad
stávající procedury pro transformaci atributu -- \uv{Each value one category}, \uv{Ekvi\-dis\-tanè\-ní intervaly}
a \uv{Ekvifrekvenèní intervaly}.
\paragraph{}
Vıhodou takového pøístupu by byla monost vyuít stávající vıhody implementace
metody GUHA v prostøedí Ferda DataMiner a to zejména cache bitovıch øetízkù.
Dále by se mohly bez vìtších zmìn pouít dataminingové procedury jako podúlohy,
v podstatì by se jednalo o jejich spuštìní na podmnoinì datové matice místo
na celé mnoinì øádkù. Také takto implementovanı virtuální atribut by šel
vyuit pro zadání pro všechny dosud implementované GUHA dataminingové
procedury v prostøedí Ferda DataMiner.
\paragraph{}
Hlavním dùvodem napsání pøedchozího odstavce v podmiòovacím zpùsobu
se stala nemonost škálovatelnosti takového øešení. U i pro existující
vzorová data virtuální banky Barbora mohl nastat problém se zabíranou
pamìti pro vygenerované bitové øetízky. Poèet asociaèních pravidel vygenerovanıch v zadané
dataminingové úloze v øádu tisícù èi desítek tisíc je bìnou záleitostí.
Protoe kadé asociaèní pravidlo v podúloze znamená novı virtuální sloupec
v hlavní tabulce, nad kterou bìí hlavní dataminingová úloha, pøi úvaze
o velikosti poadované operaèní pamìti (protoe bitové øetízky krabièky
atributù ve Ferda DataMiner uchovávají právì tam) se musí poèet sloupcù
vynásobit poètem øádkù hlavní datové matice. V relaèních rozšíøeních
procedur v této diplomové práci se generují virtuální sloupce s hodnotami
\emph{true} nebo \emph{false}, proto vıše spoèítané èíslo by znamenalo
poèet bitù potøebnıch pro uchování virtuálních sloupcù, ale obecnì virtuální
atributy mohou generovat sloupce s reálnımi hodnotami a velikost potøebné
pamìti se tak zvıší.
\paragraph{}
Pøi úvaze s maticí banky Barbora o velikosti øádovì kolem 5000 øádku
a poètem asociaèních pravidel v podúloze kolem 10000 nám vzniká ještì vcelku
pøijatelná velikost zabírané RAM, nicménì je tøeba si uvìdomit, e velikost
zkoumané datové tabulky pro úlohy blíící se reálné situaci je spíše v øádech
statisícù a miliónù záznamù. Toto je zásadní omezení pro budoucí aplikace
prostøedí Ferda DataMiner a takto navrenı zpùsob implementace by omezil nejen
relaèní rozšíøení procedur implementovanıch v rámci dané diplomové práce,
ale i pøípadnıch dalších implementací relaèních rozšíøení v budoucnu.
\paragraph{}
Z vıše uvedenıch dùvodù bylo tedy od tohoto zpùsobu implementace upuštìno.
\item[Èekající procedury]Po zavrení pøedchozího pøístupu bylo jasné, e øešení
pøedem generovat bitové øetízky do pamìti nepøipadá v úvahu. Zaèal se hledat
zpùsob, jak virtuální sloupce a tedy i bitové øetízky, generovat prùbìnì,
vdy na pokyn nadúlohy.
\paragraph{}
Vznikla následující úvaha: protoe nadúloha potøebovala ke zpracování celı
sloupec hlavní datové matice najednou, cyklus podúlohy poskytující bitové øetízky
by mohl bìet v samostatném vláknì. Podúloha by jako vstupní matici obdrela
podmnoinu øádkù vedlejší datové matice pro jeden objekt z hlavní
datové matice. Tedy pro kadı objekt z hlavní datové matice by bìelo
jedno vlákno podúlohy, které by postupnì vracelo hodnoty \emph{true} nebo \emph{false}
(nebo obecnì reálná) èísla, ze kterıch by se skládaly virtuální sloupce.
\paragraph{}
Na první pohled je však jasné, e by musel bìet poèet vláken stejnı 
jako poèet øádkù v hlavní datové matici. Idea øádovì tisíce vláken pro vıpoèet
by jednoduché úlohy (i nad tabulkou virtuální banky Barbory -- viz kapitola \ref{tests})
se autorovi zdála jako velmi špatnı návrh z dùvodu pøíliš velké
reie operaèního systému na pøepínaní takového poètu vláken. Z dosavadních
zkušeností bylo vypozorováno, e na bìnì dostupném osobním poèítaèi øádovì i stovka vláken
vìtšinou pøedstavuje velké vytíení komponent systému.
\paragraph{}
Z vıše uvedenıch dùvodù bylo tedy od tohoto zpùsobu implementace upuštìno.
\item[Generování po krocích]
Pøedchozí úvaha však inspirovala autora práce k jinému pøístupu k øešení. Jak je vidìt
z algoritmu generování asociaèních pravidel, kterı je uveden na poèátku této sekce,
dataminingová procedura (v tomto pøípadì nad\-úloha) potøebuje v jednotlivıch krocích svıch cyklù pouze
\emph{jeden bitovı øetízek}. Z tohoto vznikla idea navrhnout dataminingovou proceduru pro podúlohu tak, aby umìla
poskytnout na poádání ne nìjakı konkrétní sloupec nebo bitovı øetízek, nıbr \emph{další} sloupec
a \emph{další} bitovı øetízek anebo nic v pøípadì vyèerpání monıch asociaèních pravidel (a tím
i virtuálních sloupcù).
\paragraph{}
Zásadní rozdíl oproti dosud existujícím (nevirtuálním) atributùm byl ten, e tyto mìly
celou mnoinu svıch bitovıch øetízkù v okamiku pøed zaèátkem generování známou. Bitové
øetízky jsou v tìchto atributech identifikovatelné dle klíèe
skládajícího se z identifikátoru atributu a názvu
kategorie. Je znám celkovı poèet bitovıch øetízkù, tudí lze stanovit poèet celkovì vygenerovanıch asociaèních pravidel. Je mo\-né pøistoupit 
k jakémukoliv bitovému øetízku na základì klíèe.
\paragraph{}
Oproti tomu navrhovanı zpùsob implementace hypotézového atributu zaruèoval pouze to,
e takovı atribut v okamiku zavolání pøí\-sluš\-né metody buï vydá další bitovı øetízek
nebo oznámí, e bitové øetízky u vydávat nebude. Není tedy známá a snadno pøístupná
celá mnoina bitovıch øetízku pøed zaèátkem generování (nadúlohou) asociaèních pravidel.
Tudí nelze spoèítat ani pøedpokládanı poèet vygenerovanıch asociaèních pravidel,
protoe hypotézovı atribut jednoduše reaguje buï tím, e dá další bitovı øetízek
nebo oznámí, e øetízky došly.
\paragraph{}
Vıhody tohoto øešení ve smyslu škálovatelnosti jsou zøejmé. Pod\-úlo\-ha bìí synchronnì
s nadúlohou a v pamìti se uchovává a pøedává pouze jeden virtuální sloupec a jeho bitovı øetízek v jednom okamiku.
Poté, co nadúloha pøejde na další krok generování a poádá virtuální atribut o další bitovı øetízek,
tento zavolá svoji metodu \emph{MoveNext} a vydá další øetízek. Pøedchozí vygenerované øetízky
se nikde neukládají a nezabírají pamì.
\paragraph{}
Nevıhody tohoto øešení jsou ji naznaèeny
vıše a budou podrobnìji probrány dále. Po diskuzi s vedoucím diplomové práce se autor rozhodl
implementovat relaèní rozšíøení dataminingovıch procedur právì tímto zpùsobem,
protoe pøípadné nevıhody a jinı pøístup k øešení znamenaly spíše nepohodlí pro programátora, avšak
nijak nenarušovaly princip metody GUHA jako takové. Navíc poskytovaly základní vıhodu
škálovatelnosti -- z principu návrhu lze zaruèit, e úloha skonèí i na velkıch tabulkách,
nevyèerpá RAM nebo poèet povolenıch bìících vláken v systému. Mùe se stát, e
pobìí delší dobu, ale skonèí korektnì.
\end{description}
\subsection{Dùsledky zvoleného zpùsobu}
\paragraph{}
Zde budou popsány dùsledky, které mìlo zvolené øešení implementaci a spolupráci
s ji existujícími moduly metody GUHA v prostøedí Ferda DataMiner.
\subsubsection{Vypnutí cache bitovıch øetízku}
\paragraph{}
Nejpodstatnìjším dùsledkem bylo neumonìní pouívat stávající cache bitovıch
øetízkù. Ta toti funguje tak, e uchovává bitové øetízky pro atributy
(pro všechny atributy je spoleèná) a v pøípadì potøeby vyøazuje z cache
málo pouívané bitové øetízky na základì nìjaké strategie. V pøípadì,
e v cache potøebnı bitovı øetízek neexistuje, poádá o nìj pøímo
potøebnı atribut na základì jednoznaèného identifikátoru.
\paragraph{}
Jak u bylo zmínìno vıše, takovı pøístup by se zvolenım zpùsobem implementace
nefungoval -- pøedpokládá toti monost pøímého pøístupu ke všem bitovım øetízkùm
atributu. Návrh hypotézového virtuálního atributu s tímto nepoèítá -- umí
dát pouze \uv{další} bitovı øetízek bez monosti zjistit, kterı další to bude, jakı
bude mít identifikátor, ke které kategorii bude patøit atd. Z tìchto dùvodù
nešlo stávající cache pro hypotézovı virtuální atribut pouít. Pouití
cache bitovıch øetízkù u ostatních buï existujících nebo novì implementovanıch
krabièek atributù zùstalo beze zmìny, protoe se pro tyto krabièky nic nezmìnilo.
\subsubsection{Rozdìlení na krabièky}
\paragraph{}
Další otázkou bylo, zda implementovat hypotézovı virtuální atribut
jako dvì krabièky nebo jednu spoleènou. Stávající nevirtuální
atributy se v pøípadì potøeby generování booleovskıch atributù zapojují do krabièky
\uv{Atom\-Set\-ting}. Ta zajistí generování koeficientù pro booleovskı atribut.
\paragraph{}
V pøípadì hypotézového virtuálního atributu by nebylo moné pouít stá\-va\-jí\-cí krabièku
pro generování koeficientù \uv{AtomSetting}, protoe pracuje s po\-a\-dav\-kem \uv{poskytni
pøesnì tento bitovı øetízek}, kdeto hypotézovı atribut by umìl zpracovat pouze
poadavek \uv{poskytni další bitovı øetízek}. Tudí krabièka pro generování koeficientù
vyuitelná pouze pro hypotézovı vir\-tuál\-ní atribut by se musela také naprogramovat.
\paragraph{}
Po úvaze se autor rozhodl neimplementovat zvláštní krabièku pro generování
koeficientù pro hypotézovı virtuální atribut z následujících dùvodù.
\begin{description}
\item[Potøeba pouze jednoho koeficientu]
Bylo rozhodnuto, e pøi generování koeficientù pro booleovskı atribut
bude potøeba implementovat pouze podmnoiny délky jedna.
Krabièka \uv{AtomSetting} pro hypotézovı vir\-tuál\-ní atribut by byla nadbyteèná,
protoe by tam chybìlo uivatelské nastavení, vše se odehrávalo \uv{pod kapotou}.
Nebyl tedy dùvod tuto krabièku vytváøet.
\item[Zbyteèná komunikace krabièek pøes rozhraní ICE] Navíc by ta\-to kra\-biè\-ka, která
by se zapojila za hypotézovı virtuální atribut, znamenala komunikaci pøes rozhraní ICE.
Protoe idea implementace spoèívá v synchronním bìhu nad- a podúlohy, kde
nadúloha uvnitø svıch cyklù (napøíklad pro sukcedent) volá podúlohu, která jí
pøedává bitové øetízky, je potøeba zajistit toto pøedávání plynule, aby
se hlavní úloha pøíliš nezpomalovala èekáním na bitovı øetízek od podúlohy.
\paragraph{}
 Protoe
ze zkušeností získanıch pøi programování prostøedí Ferda DataMiner ještì
v rámci studentského projektu autor vìdìl, e komunikace krabièek pøes
rozhraní ICE je relativnì pomalá (s ohledem na skuteènost, e na komunikaci
pøes ICE by bylo tøeba èekat pøi kadém kroku  \verb+foreach+ cyklu),
bylo rozhodnuto zajistit generování atributu
a koeficientu v jedné krabièce a tím zrychlit bìh hypotézového
virtuálního atributu.
\end{description}
\subsubsection{Buffer bitovıch øetízkù}
\paragraph{}
Pøi ladìní prvotní implementace hypotézového virtuálního atributu
se zjistilo, e aèkoliv zvolenı návrh zaruèí škálovatelnost
a jistotu toho, e úloha by za delší dobu dobìhne a nezabere
zbyteènou pamì, doba bìhu celkové úlohy je neúmìrnì dlouhá.
\paragraph{}
Dùvod dlouhého bìhu úlohy s virtuálním atributem celkem logicky spoèíval
v neexistenci jakéhokoliv cacheování bitovıch øetízkù po\-skyto\-va\-nıch
vir\-tuál\-ním hypotézovım atributem. Pøi prvotním návrhu autor a vedoucí
diplomové práce na tento fakt nebrali pøíliš ohled, protoe spíše diskutovali
o dlouhodobìjších dopadech zvoleného zpùsobu implementace. Velkı rozdíl v rychlostech bìhu
úlohy byl ještì umocnìn faktem, e všechny dosavadní GUHA procedury v prostøedí
Ferda DataMiner byly implementovány
s pouitím cache bitovıch øetízkù a generování bitovıch øetízkù pøi bìhu úlohy probìhlo
pouze poprvé a poté se naèítaly z cache. Proto hypotézovı atribut, kterı ádnou cache
nepouíval, zpùsoboval opravdu velké zpomalení bìhu úlohy, byl-li do ni zapojen.
\paragraph{}
Podíváme-li se na pseudokód algoritmu procedury 4ft-Miner uvedenı vıše a pøedstavíme-li si ho
jako nadúlohu, do které bude zapojen minimálnì jeden virtuální hypotézovı atribut
(napøíklad jako sukcedent), tak bude jasné, e tento algoritmus pobìí opravdu pomalu.
Zapojení virtuálního atributu do sukcedentu je pro tento miner nejhorší pøípad,
protoe bitstringy jim generované jsou pouívány ve vnitøním \verb+foreach+ cyklu,
a to v pøípadì ne\-pøí\-tom\-nos\-ti cache znamená, e uvnitø tohoto cyklu se \emph{pokadé} spustí
podúloha (vnitøní procedura), aby mohla nadúloze poskytnout bitovı øetízek.
\paragraph{}
Pøi vší snaze autora dané práce jakkoliv urychlit bìh úlohy se zapojenım hypotézovım
atributem vycházelo najevo, e od pùvodnì plánované implementace prosté jakéhokoliv
cacheování bude nutné upustit. Pøi krátkém otestování a optimalizaci dosud implementovaného
kódu krabièky autor byl schopen dosáhnout rozumné doby bìhu úlohy (v øádu desítek minut)
pøi omezení maximálního poètu virtuálních sloupcù a potamo i bitovıch øetízkù vygenerovanıch
krabièkou virtuálního atributu na 15-20. Pøi zvıšení maximálního poètu virtuálních sloupcù
na 50 doba bìhu jednoduché úlohy se pohybovala v øádu hodin.
\paragraph{}
Protoe bìné poèty vygenerovanıch asociaèních pravidel v procedurách GUHA se pohybují v øádech
tisícù a desetitisícù pøi potøebné dobì bìhu spíše v øádu minut, bylo zøejmé, e
zpomalujícím faktorem byla právì absence cacheování bitovıch øetízkù pro virtuální atribut.
Bylo tedy rozhodnuto upustit od kanonického øešení a autor naimplementoval
cache i pro virtuální atributy.
\section{Atributy}
\paragraph{}
Zde bude popsána podstata úlohy, kterou bylo nutné
vyøešit pro implementaci atributù v prostøedí
Ferda DataMiner. Podrobnìjší popis principù fungování danıch
atributù je uveden v dané diplomové práci v sekci \ref{cileatributy}.

\subsection{Ekvidistanèní a ekvifrekvenèní intervaly}
\paragraph{}
Pøi implementaci tohoto modulu pro transformaci atributu byly vyuity algoritmy
pro vytvoøení ekvifrekvenèních intervalù pøipravené T.Kuchaøem
v rámci jeho diplomové práce uvedené jako \cite{kuchar}. Tyto algoritmy
byly adaptovány z prostøedí projektu Rel-Miner T.Karbana a pøipraveny
pro vyuití v prostøedí Ferda DataMiner. Autor této diplomové práce
vytvoøil pro dané moduly pro transformaci atributu krabièku v prostøedí Ferda DataMiner,
její funkènost bude detailnì popsána v kapitole \ref{implementationdetails}.
\paragraph{}
Krabièka pro vytváøení ekvidistanèních intervalù pracuje
mírnì odlišnım zpùsobem ne v systému LISp-Miner. Intervaly
se vygenerují na základì zadání poadovaného \emph{poètu}
intervalù a poèáteèního a koncového bodù. V systému LISp-Miner
se zadá poadovaná\ \emph{délka} intervalu a poèáteèní a koncovı body.
Krabièka implementující transformaci atributu vytváøením ekvidistanèních intervalù stejnım zpùsobem
jako v systému LISp-Miner byla rovnì pøidána do prostøedí Ferda DataMiner v rámci dané diplomové práce.
\subsection{Statickı atribut}
\paragraph{}
Pøi implementaci tohoto modulu pro transformaci atributu
byla vytvoøena krabièka,
která umoòovala spouštìní modulu pro ruèní úpravu atributu. Atribut
(pøesnìji kategorie v atributu) mohly bıt pøedem vytvoøeny napøíklad
vıše uvedenımi krabièkami pro tvorbu ekvidistanèních nebo ekvifrekvenèních intervalù.
\subsection{Modul pro úpravu atributu}
\paragraph{}
Tento modul je spouštìn nad krabièkou \uv{Statickı atribut} a umoòuje
ruèní úpravu kategorií v atributu. Pøi ní uivatel mùe jak upravovat
ji pøedem pøipravené kategorie, tak i vytváøet kategorie nové. Upravovanı
atribut mùe bıt i zcela prázdnı a kategorie mohou bıt vytvoøeny
uivatelem kompletnì od zaèátku.
\paragraph{}
Modul zaruèuje korektnost ruènì pøidanıch kategorií (zaruèí napøíklad
disjunktní intervaly v rámci kategorie, jak je poadováno pøi tvorbì zadání
úlohy pro dataminingovou
proceduru). Vyuívá algoritmù ji implementovanıch v rámci diplomové práce
T.Kuchaøe uvedené jako \cite{kuchar}. Funkènost tohoto modulu bude detailnì popsána
v kapitole \ref{implementationdetails}.
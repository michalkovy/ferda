<?xml version="1.0"?>
<project name="Projekt pokus 2" default="build" xmlns="http://nant.sf.net/release/0.85-rc1/nant.xsd">

	<target name="build">

		<echo message="Tvorba adresare /bin/Projekt UI" />

		<mkdir dir="../../../bin/Projekt UI" />
	
		<echo message="Kompilace knihovy Netron" />
		
		<csc target="library" output="../../../bin/Projekt UI/NetronGraphLib.dll" debug="true">
			<sources>		
				<include name="../../../libsrc/NAFGraph/*.cs" />
				<include name="../../../libsrc/NAFGraph/Attributes/*.cs" />
				<include name="../../../libsrc/NAFGraph/Collections/*.cs" />
				<include name="../../../libsrc/NAFGraph/Configuration/*.cs" />
				<include name="../../../libsrc/NAFGraph/Connections/Bezier/*.cs" />
				<include name="../../../libsrc/NAFGraph/Connections/Default/*.cs" />
				<include name="../../../libsrc/NAFGraph/Connections/Rectangular/*.cs" />
				<include name="../../../libsrc/NAFGraph/Delegates/*.cs" />
				<include name="../../../libsrc/NAFGraph/Enums/*.cs" />
				<include name="../../../libsrc/NAFGraph/GraphLayout/*.cs" />
				<include name="../../../libsrc/NAFGraph/Interfaces/*.cs" />
				<include name="../../../libsrc/NAFGraph/IO/GraphML/*.cs" />
				<include name="../../../libsrc/NAFGraph/IO/GraphML/Binary/*.cs" />
				<include name="../../../libsrc/NAFGraph/IO/GraphML/Collections/*.cs" />
				<include name="../../../libsrc/NAFGraph/IO/GraphML/enums/*.cs" />
				<include name="../../../libsrc/NAFGraph/Delegates/*.cs" />
				<include name="../../../libsrc/NAFGraph/UI/*.cs" />
				<include name="../../../libsrc/NAFGraph/Utils/*.cs" />
				<include name="../../../libsrc/NAFGraph/Utils/Controls/*.cs" />\
				
				 <!-- <include name="NAFGraph/**.cs" /> -->
			</sources>	
			
			<resources  prefix="Netron.GraphLib.Resources" >
				<include name="../../../libsrc/NAFGraph/Resources/*.cur" />
				<include name="../../../libsrc/NAFGraph/Resources/*.gif" />
			</resources>

			<resources prefix="Netron.GraphLib.UI">
				<include name="../../../libsrc/NAFGraph/UI/*.bmp" />
			</resources>
			
			<references>
				<include name="System.dll" />
				<include name="System.Data.dll" />
				<include name="System.Design.dll" />
				<include name="System.Drawing.dll" />
				<include name="System.Windows.Forms.dll" />
				<include name="System.XML.dll" />
				
				<include name="../../../lib/NetronMaths.dll" />
			</references>
		</csc>	
		
		<echo message="Kompilace grafickych prvku pro knihovnu Netron - BasicShapes.dll" />		
	
		<csc target="library" output="../../../bin/Projekt UI/BasicShapes.dll" debug="true">
			<sources>
				<include name="../../../libsrc/BasicShapes/*.cs" />
			</sources>
			
			<references>
				<include name="System.dll" />
				<include name="System.Data.dll" />
				<include name="System.Drawing.dll" />
				<include name="System.Windows.Forms.dll" />
				<include name="System.XML.dll" />
				
				<include name="../../../bin/Projekt UI/NetronGraphLib.dll" />
			</references>
			
			<resources prefix="Netron.GraphLib.BasicShapes.Resources">
				<include name="../../../libsrc/BasicShapes/Resources/*.gif" />
			</resources>
		</csc>
	
		<echo message="Kompilace UI, cast exe" />
	
		<csc target="winexe" output="../../../bin/Projekt UI/Projekt_UI.exe" debug="true">
			<sources>
				<include name="FerdaGui/*.cs"/>
			</sources>
			<references>
   				<include name="System.dll"/>
				<include name="System.Data.dll"/>
				<include name="System.Drawing.dll"/>
				<include name="System.Windows.Forms.dll"/>
				<include name="System.XML.dll"/>
								
				<include name="../../../bin/Projekt UI/NetronGraphLib.dll" />
				<include name="../../../bin/Projekt UI/BasicShapes.dll" />
				<include name="../../../lib/MagicLibrary.dll" />
			</references>
		</csc>
	
	</target>
	
	<target name="run" depends="build">
		<copy file="../../../lib/MagicLibrary.dll" tofile="../../../bin/Projekt UI/MagicLibrary.dll" />
		<copy file="../../../lib/NetronMaths.dll" tofile="../../../bin/Projekt UI/NetronMaths.dll" />
		
		<exec program="../../../bin/Projekt UI/Projekt_UI.exe" />
	</target>
	
	<target name="clean" >
		<delete dir="../../../bin/Projekt UI"  />
	</target>
	
</project>

